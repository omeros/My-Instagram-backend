{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/app.vue?c53b","webpack:///./src/services/socket.service.js","webpack:///./src/cmps/story-chat.vue?7380","webpack:///./src/services/async-storage.service.js","webpack:///./src/services/util.service.js","webpack:///./src/views/login-signup.vue?0d0d","webpack:///./src/cmps/signup.vue?5263","webpack:///src/cmps/signup.vue","webpack:///./src/cmps/signup.vue?489e","webpack:///./src/cmps/signup.vue","webpack:///src/views/login-signup.vue","webpack:///./src/views/login-signup.vue?9c31","webpack:///./src/views/login-signup.vue","webpack:///./src/views/story-app.vue?f625","webpack:///./src/services/event-bus.service.js","webpack:///./src/services/story.service.js","webpack:///./src/cmps/story-list.vue?4868","webpack:///./src/cmps/story-preview.vue?21aa","webpack:///src/cmps/story-preview.vue","webpack:///./src/cmps/story-preview.vue?f42f","webpack:///./src/cmps/story-preview.vue","webpack:///src/cmps/story-list.vue","webpack:///./src/cmps/story-list.vue?aecf","webpack:///./src/cmps/story-list.vue","webpack:///./src/cmps/story-preview-modal-container.vue?da1d","webpack:///./src/cmps/story-preview-modal.vue?50da","webpack:///./src/cmps/story-comment.vue?c57a","webpack:///src/cmps/story-comment.vue","webpack:///./src/cmps/story-comment.vue?97b7","webpack:///./src/cmps/story-comment.vue","webpack:///./src/cmps/action-bar.vue?edda","webpack:///src/cmps/action-bar.vue","webpack:///./src/cmps/action-bar.vue?4a37","webpack:///./src/cmps/action-bar.vue","webpack:///./src/cmps/comment-input.vue?9fe7","webpack:///src/cmps/comment-input.vue","webpack:///./src/cmps/comment-input.vue?a349","webpack:///./src/cmps/comment-input.vue","webpack:///./src/cmps/delete-modal.vue?fc73","webpack:///src/cmps/delete-modal.vue","webpack:///./src/cmps/delete-modal.vue?e1b1","webpack:///./src/cmps/delete-modal.vue","webpack:///./src/cmps/smiley-modal.vue?e828","webpack:///src/cmps/smiley-modal.vue","webpack:///./src/cmps/smiley-modal.vue?e817","webpack:///./src/cmps/smiley-modal.vue","webpack:///src/cmps/story-preview-modal.vue","webpack:///./src/cmps/story-preview-modal.vue?17a6","webpack:///./src/cmps/story-preview-modal.vue","webpack:///src/cmps/story-preview-modal-container.vue","webpack:///./src/cmps/story-preview-modal-container.vue?5bdd","webpack:///./src/cmps/story-preview-modal-container.vue","webpack:///src/views/story-app.vue","webpack:///./src/views/story-app.vue?d06e","webpack:///./src/views/story-app.vue","webpack:///./src/views/user-details.vue?6d72","webpack:///./src/cmps/img-upload.vue?57ac","webpack:///./src/services/img-upload2.service.js","webpack:///./src/services/img-upload.service.js","webpack:///src/cmps/img-upload.vue","webpack:///./src/cmps/img-upload.vue?460a","webpack:///./src/cmps/img-upload.vue?a718","webpack:///src/views/user-details.vue","webpack:///./src/views/user-details.vue?7f69","webpack:///./src/views/user-details.vue","webpack:///./src/views/story-about.vue?ba34","webpack:///src/views/story-about.vue","webpack:///./src/views/story-about.vue?d892","webpack:///./src/views/story-about.vue","webpack:///./src/router.js","webpack:///./src/services/http.service.js","webpack:///./src/services/user.service.js","webpack:///src/cmps/story-chat.vue","webpack:///./src/cmps/story-chat.vue?84c7","webpack:///./src/cmps/story-chat.vue","webpack:///./src/cmps/app-header.vue?7da9","webpack:///./src/cmps/user-filter.vue?73b2","webpack:///src/cmps/user-filter.vue","webpack:///./src/cmps/user-filter.vue?3e50","webpack:///./src/cmps/user-filter.vue","webpack:///./src/cmps/new-story-modal.vue?b391","webpack:///src/cmps/new-story-modal.vue","webpack:///./src/cmps/new-story-modal.vue?41f3","webpack:///./src/cmps/new-story-modal.vue","webpack:///./src/cmps/user-modal.vue?57c4","webpack:///src/cmps/user-modal.vue","webpack:///./src/cmps/user-modal.vue?a483","webpack:///./src/cmps/user-modal.vue","webpack:///src/cmps/app-header.vue","webpack:///./src/cmps/app-header.vue?840f","webpack:///./src/cmps/app-header.vue","webpack:///./src/cmps/app-footer.vue?f5ea","webpack:///src/cmps/app-footer.vue","webpack:///./src/cmps/app-footer.vue?816f","webpack:///./src/cmps/app-footer.vue","webpack:///src/app.vue","webpack:///./src/app.vue?b1d1","webpack:///./src/app.vue","webpack:///./src/store/user.store.js","webpack:///./src/store/socket.store.js","webpack:///./src/services/review.service.js","webpack:///./src/store/review.store.js","webpack:///./src/store/store.js","webpack:///./src/registerServiceWorker.js","webpack:///./src/main.js","webpack:///./src/assets/img/myinstagram-gif.gif","webpack:///./src/cmps/img-upload.vue?65fd"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","$event","target","currentTarget","closeModal","usersToChatWith","messages","clearChat1","_e","isChat","_l","user","_id","class","gotmsg","gotMsg","sendTo","imgUrl","stopPropagation","chooseUser","_v","_s","username","openChat","staticRenderFns","SOCKET_EMIT_USER_WATCH","SOCKET_EVENT_USER_UPDATED","SOCKET_EVENT_REVIEW_ADDED","baseUrl","socketService","createSocketService","socket","setup","io","eventName","cb","off","removeAllListeners","emit","terminate","msg","idx","from","loggedinUser","txt","preventDefault","sendMsg","arguments","directives","rawName","expression","domProps","composing","$set","userTyping","_m","storageService","query","post","put","remove","entityType","entities","JSON","parse","localStorage","getItem","Promise","resolve","entityId","then","find","entity","newEntity","console","log","_makeId","_save","updatedEntity","findIndex","setItem","stringify","text","possible","charAt","Math","floor","random","utilService","delay","getRandomInt","makeId","ms","setTimeout","min","max","ceil","closecreatNewUser","doLogout","staticStyle","doLogin","loginCred","$$selectedVal","Array","filter","options","selected","map","val","_value","multiple","fullname","creatNewUser","doSignup","signupCred","methods","component","newUserModal","userId","computed","users","$store","getters","dispatch","loadUsers","components","signup","selectedStoryFromComputed","smiliesToShow","close","removepost","storiesToShow","storyToModal","eventBus","Vue","$emit","$on","myBus","require","storyService","getById","save","getEmptystory","getSmiles","querySmiley","filterBy","queryStr","httpService","id","delete","story","createdAt","by","loc","lat","lng","comments","likedBy","tags","smiles","addLike","openModal","addLikeToComment","isCommntLiked","show","isSmilyModal","url","addIcon","openSmily","closeSmily","istxt","addComment","props","isActive","isLiked","isModal","created","mounted","destroyed","getDetails","icons","addCommentToStory","ifThisIsTheModal","removeComment","myFilter","commentIdx","addLikeFromModal","stories","type","storyPreview","closeDeletPost","openDeletPost","comment","componentKey","indexOf","getStory","openSmiley","closeSmiley","likesNums","$off","commentStory","storyId","addIconToComment","x","smile","String","fromCodePoint","emoji","inputTxt","removePost","isDeletePost","isCommntLiked2","details","storyComment","actionBar","commentInput","smileyMoldal","deleteModal","storyPreviewModal","selectedStory","addLikeFromActionBar","smiley","storyList","storyPreviewModalContainer","isEdit","imgUserChoosed","numPosts","followersNum","followingNum","bio","editUserDetails","saveUserDetails","storyToShowFromComputed","myImage","isLoading","handleFile","dragOver","isDragOver","onUploadImg","uploadImg2","ev","UPLOAD_PRESET","CLOUD_NAME","UPLOAD_URL","FORM_DATA","FormData","append","files","axios","res","error","uploadImg","file","storyToShow","isSaved","watch","beforeDestroy","uploadedImg","storiesComputed","isLikedComputed","test","followers","following","getUserFromStore","getUserById","imgUpload","use","Router","router","base","process","routes","path","loginSignup","storyApp","userDetails","storyAbout","BASE_URL","Axios","withCredentials","endpoint","ajax","method","params","dir","response","status","SCORE_FOR_REVIEW","userService","login","logout","getUsers","update","getLoggedinUser","getLoggedinUsers","increaseScore","getEmpthyUser","saveLocalUsers","saveChatMessages","getChatMessages","saveAllUsers","getAllUsers","updatedUser","_saveLocalUser","score","userCred","newUser","password","allMessages","sessionStorage","allUsers","check","some","loginusers","Date","savedPostIds","msgs","topic","myId","sendToUserId","checkUsers","myFunction","addMsg","newMsg","pressed","instagramPressed","instagramIsPressed","setFilter","loggedInUser","openUserModal","emptyStory","afterPost","left","stayOpen","uploadImage","addNewStory","closModal","userFilter","newStoryModal","userModal","allLoggedinUsers","isMsg","isMsgComputed","setColorsForChatImg","userChoosed","$forceUpdate","forEach","appHeader","appFooter","storyChat","userStore","state","loggedinUsers","userToFind","watchedUser","mutations","setLoggedinUser","objUser","usertoFind","indexOfUser","updateLoggedinUser","setWatchedUser","setUsers","removeUser","actions","commit","undefined","loadAndWatchUser","updateUser","userFromDB","socketStore","setJob","job","context","getChatHistory","chatId","reviewService","add","reviewId","review","byUser","aboutUserId","aboutUser","addedReview","reviewStore","reviews","setReviews","addReview","removeReview","loadReviews","Vuex","store","Store","strict","lastPath","editChanges","isCommentLikedBefor","smilies","getStories","getEmptyStory","theUser","searchStr","toLowerCase","includes","getStoryByUserId","storyToFind","getStoryById","storyToEdit","filterByChanged","payload","strFilter","setStories","reverse","setSmilies","setStory","storyUpdated","updatedStory","unshift","removeStory","storyToRemoveId","updateStories","commentLikedBefor","commentNotLikedBefor","newStory","catch","err","Error","theDetails","storyCommentToLike","isLikedBefor","isItTheUser","element","removeLikeFromStory","theloggedInUser","storyRemoveLike","setLikeToStory","storyToLike","commentTxt","storyToComment","_commentToAdd","commentToAdd","loadStories","register","ready","registered","cached","updatefound","updated","offline","config","productionTip","render","h","app","$mount"],"mappings":"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","file":"js/app.4d06f50f.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app\"},[_c('div',{attrs:{\"id\":\"nav\"},on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.closeModal()}}},[_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.isChat)?_c('div',{staticClass:\"absolute-pos\"},[_c('div',{staticClass:\"fixed-pos\"},[_c('storyChat',{attrs:{\"toUser\":_vm.usersToChatWith,\"firstMessages\":_vm.messages},on:{\"clearChat\":_vm.clearChat1}})],1)]):_vm._e()]),(!_vm.isChat)?_c('div',{staticClass:\"users-for-chat-container\"},_vm._l((_vm.allLoggedinUsers),function(user){return _c('div',{key:user._id,staticClass:\"users-for-chat\"},[_c('img',{staticClass:\"users-img-for-chat\",class:{ gotmsg: user.gotMsg , sendTo: user.sendTo },attrs:{\"src\":user.imgUrl,\"title\":\"choos user to chat with...\",\"alt\":\"image\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.chooseUser(user)}}}),_c('span',{staticClass:\"users-txt-for-chat-name\"},[_vm._v(\"  \"+_vm._s(user.username)+\" \")])])}),0):_vm._e(),_c('div',{staticClass:\"btn-absolute-pos\"},[_c('div',{staticClass:\"btn-absolute-pos\"},[(!_vm.isChat)?_c('button',{staticClass:\"open-chat\",attrs:{\"title\":\"open chat\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.openChat()}}},[_c('img',{attrs:{\"src\":\"https://res.cloudinary.com/omerphoto/image/upload/v1645829347/Instagram/facebook2_crnrxx.png\",\"alt\":\"\"}})]):_vm._e(),(_vm.isChat)?_c('button',{staticClass:\"open-chat\",attrs:{\"title\":\"close chat\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.openChat()}}},[_c('svg',{attrs:{\"width\":\"26px\",\"height\":\"26px\",\"viewBox\":\"-4 -4 24 24\"}},[_c('line',{attrs:{\"x1\":\"2\",\"x2\":\"14\",\"y1\":\"2\",\"y2\":\"14\",\"stroke-linecap\":\"round\",\"stroke-width\":\"2\",\"stroke\":\"#bec2c9\"}}),_c('line',{attrs:{\"x1\":\"2\",\"x2\":\"14\",\"y1\":\"14\",\"y2\":\"2\",\"stroke-linecap\":\"round\",\"stroke-width\":\"2\",\"stroke\":\"#bec2c9\"}})])]):_vm._e()])]),_c('app-header'),_c('router-view'),_c('app-footer')],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import io from 'socket.io-client'\r\n\r\nexport const SOCKET_EMIT_USER_WATCH = 'user-watch';\r\nexport const SOCKET_EVENT_USER_UPDATED = 'user-updated';\r\nexport const SOCKET_EVENT_REVIEW_ADDED = 'review-added';\r\n\r\n\r\nconst baseUrl = (process.env.NODE_ENV === 'production')? '' : '//localhost:3030'\r\nexport const socketService = createSocketService()\r\n// export const socketService = createDummySocketService()\r\n\r\nwindow.socketService = socketService\r\n\r\n\r\nfunction createSocketService() {\r\n  var socket\r\n  const socketService = {\r\n    // socket is lazily created\r\n    setup() {\r\n      socket = io(baseUrl)\r\n    },\r\n    on(eventName, cb) {\r\n      if (!socket) socketService.setup();\r\n      socket.on(eventName, cb)\r\n    },\r\n    off(eventName, cb=null) {\r\n      if (!socket) socketService.setup();\r\n      if (!cb) socket.removeAllListeners(eventName)\r\n      else socket.off(eventName, cb)\r\n    },\r\n    emit(eventName, data) {\r\n      if (!socket) socketService.setup();\r\n      socket.emit(eventName, data)\r\n    },\r\n    terminate() {\r\n      socket = null\r\n    }\r\n  }\r\n  return socketService\r\n}\r\n\r\n// eslint-disable-next-line\r\nfunction createDummySocketService() {\r\n  var listenersMap = {}\r\n  const socketService = {\r\n    listenersMap,\r\n    setup() {\r\n      listenersMap = {}\r\n    },\r\n    terminate() {\r\n      this.setup()\r\n    },\r\n    on(eventName, cb) {\r\n      listenersMap[eventName] = [...(listenersMap[eventName]) || [], cb]\r\n    },\r\n    off(eventName, cb) {\r\n      if (!listenersMap[eventName]) return\r\n      if (!cb) delete listenersMap[eventName]\r\n      else listenersMap[eventName] = listenersMap[eventName].filter(l => l !== cb)\r\n    },\r\n    emit(eventName, data) {\r\n      if (!listenersMap[eventName]) return\r\n      listenersMap[eventName].forEach(listener => {\r\n        listener(data)\r\n      })\r\n    },\r\n    debugMsg() {\r\n      this.emit('chat newMsg', {from: 'Someone', txt: 'Aha it worked!'})\r\n    },\r\n  }\r\n  return socketService\r\n}\r\n\r\n\r\n// Basic Tests\r\n// function cb(x) {console.log(x)}\r\n// socketService.on('baba', cb)\r\n// socketService.emit('baba', 'DATA')\r\n// socketService.off('baba', cb)\r\n\r\n\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"story-chat-container\"},[_c('h2',[_vm._v(\"Lets Chat...\")]),_c('div',{staticClass:\"ul-chat\"},_vm._l((_vm.msgs),function(msg,idx){return _c('div',{key:idx},[(msg.from._id === _vm.loggedinUser._id)?_c('div',{staticClass:\"user-container\"},[_c('img',{staticClass:\"img-user-chat\",attrs:{\"src\":msg.from.imgUrl,\"alt\":\"image\"}}),_c('span',{staticClass:\"txt-user-chat\"},[_vm._v(\" \"+_vm._s(msg.txt)+\" \")])]):_c('div',{staticClass:\"incoming-user-container\"},[_c('span',{staticClass:\"txt-incoming-user-chat\"},[_vm._v(\" \"+_vm._s(msg.txt)+\" \")]),_c('img',{staticClass:\"img-incoming-user-chat\",attrs:{\"src\":msg.from.imgUrl,\"alt\":\"user image\"}})])])}),0),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.sendMsg.apply(null, arguments)}}},[_c('div',{staticClass:\"chat-input-container\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.msg.txt),expression:\"msg.txt\"}],staticClass:\"chat-input\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.msg.txt)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.msg, \"txt\", $event.target.value)},function($event){return _vm.userTyping()}]}})]),_vm._m(0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-chat-btn-container\"},[_c('button',{staticClass:\"chat-btn\"},[_vm._v(\"Send\")])])}]\n\nexport { render, staticRenderFns }","\r\n\r\nexport const storageService = {\r\n    query,\r\n    get,\r\n    post,\r\n    put,\r\n    remove,\r\n}\r\n\r\nfunction query(entityType) {\r\n    var entities = JSON.parse(localStorage.getItem(entityType)) || []\r\n    return Promise.resolve(entities)\r\n}\r\n\r\n\r\nfunction get(entityType, entityId) {\r\n    return query(entityType)\r\n        .then(entities => entities.find(entity => entity._id === entityId))\r\n}\r\nfunction post(entityType, newEntity) {\r\n    console.log('newEntity at async service',newEntity)\r\n    newEntity._id = _makeId()\r\n    return query(entityType)\r\n        .then(entities => {\r\n            entities.push(newEntity)\r\n            _save(entityType, entities)\r\n            return newEntity\r\n        })\r\n}\r\nfunction postMany(entityType, newEntities) {\r\n    return query(entityType)\r\n        .then(entities => {\r\n            newEntities = newEntities.map(entity => ({...entity, _id: _makeId()}))\r\n            entities.push(...newEntities)\r\n            _save(entityType, entities)\r\n            return newEntity\r\n        })\r\n}\r\n\r\n\r\n\r\nfunction put(entityType, updatedEntity) {\r\n    return query(entityType)\r\n        .then(entities => {\r\n            const idx = entities.findIndex(entity => entity._id === updatedEntity._id)\r\n            entities.splice(idx, 1, updatedEntity)\r\n            _save(entityType, entities)\r\n            return updatedEntity\r\n        })\r\n}\r\n\r\nfunction remove(entityType, entityId) {\r\n    return query(entityType)\r\n        .then(entities => {\r\n            const idx = entities.findIndex(entity => entity._id === entityId)\r\n            entities.splice(idx, 1)\r\n            _save(entityType, entities)\r\n        })\r\n}\r\n\r\n\r\nfunction _save(entityType, entities) {\r\n    localStorage.setItem(entityType, JSON.stringify(entities))\r\n}\r\n\r\nfunction _makeId(length = 5) {\r\n    var text = ''\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\r\n    for (var i = 0; i < length; i++) {\r\n        text += possible.charAt(Math.floor(Math.random() * possible.length))\r\n    }\r\n    return text\r\n}","\r\nexport const utilService = {\r\n    delay,\r\n    getRandomInt,\r\n    makeId\r\n}\r\n\r\nfunction delay(ms = 1500) {\r\n    return new Promise(resolve => {\r\n        setTimeout(resolve, ms)\r\n    })\r\n}\r\n\r\nfunction getRandomInt(min, max) {\r\n    min = Math.ceil(min);\r\n    max = Math.floor(max);\r\n    return Math.floor(Math.random() * (max - min) + min); //The maximum is exclusive and the minimum is inclusive\r\n}\r\n\r\nfunction makeId(length = 5) {\r\n    var txt = '';\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n    for (var i = 0; i < length; i++) {\r\n        txt += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n    return txt;\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-layout\",on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.closecreatNewUser.apply(null, arguments)}}},[_c('div',{staticClass:\"login-container\",on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.closecreatNewUser.apply(null, arguments)}}},[_c('p',{staticClass:\"faild-login\"},[_vm._v(_vm._s(_vm.msg))]),(_vm.loggedinUser)?_c('div',[_c('h3',{staticClass:\"login-h3\"},[_vm._v(\"\\n          Loggedin User:\\n          \"),_c('span',{staticClass:\"login-user-name\"},[_vm._v(\" \"+_vm._s(_vm.loggedinUser.username)+\" \")])]),_c('div',{staticClass:\"logout-btn-container\"},[_c('button',{staticClass:\"logout-btn\",on:{\"click\":_vm.doLogout}},[_vm._v(\"Log Out\")])])]):_c('div',{on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.closecreatNewUser.apply(null, arguments)}}},[_c('h2',{staticStyle:{\"text-align\":\"center\"}},[_vm._v(\"You Need to Login First !\")]),(!_vm.loggedinUser)?_c('div',{staticClass:\"login-warning\"},[_vm._v(\"\\n        Choose User To Login\\n      \")]):_vm._e(),_c('div',{staticClass:\"user-logout\"},[_c('form',{staticClass:\"login-form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.doLogin.apply(null, arguments)}}},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.loginCred.username),expression:\"loginCred.username\"}],staticClass:\"login-input\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.loginCred, \"username\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.users),function(user){return _c('option',{key:user._id,domProps:{\"value\":user.username}},[_vm._v(\"\\n              \"+_vm._s(user.fullname)+\"\\n            \")])}),0),_c('div',{staticClass:\"login-btn-container\"}),_c('button',{staticClass:\"login-btn\"},[_vm._v(\"Log In\")]),_c('div',{staticClass:\"login-line\"}),_c('div',{staticClass:\"new-account-btn-separation\"}),_c('button',{staticClass:\"new-account-btn\",on:{\"click\":function($event){$event.preventDefault();return _vm.creatNewUser.apply(null, arguments)}}},[_vm._v(\"\\n            Creat New Account\\n          \")])])]),_c('transition',{attrs:{\"name\":\"fade2\"}},[(_vm.newUserModal)?_c('div',{staticClass:\"signup-container\"},[_c('signup',{on:{\"signupCred\":_vm.doSignup}})],1):_vm._e()])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"signup-container-modal\"},[_c('form',{staticClass:\"signup-form\",attrs:{\"id\":\"parent-node\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.doSignup.apply(null, arguments)}}},[_c('div',{staticClass:\"input-container\"},[_c('label',{staticClass:\"centerize-label\",attrs:{\"for\":\"fullname\"}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.signupCred.fullname),expression:\"signupCred.fullname\"}],staticClass:\" signup-input\",attrs:{\"type\":\"text\",\"name\":\"fullname\",\"id\":\"fullname\",\"placeholder\":\"Full Name\"},domProps:{\"value\":(_vm.signupCred.fullname)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.signupCred, \"fullname\", $event.target.value)}}}),_c('label',{staticClass:\"centerize-label\",attrs:{\"for\":\"username\"}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.signupCred.username),expression:\"signupCred.username\"}],staticClass:\" signup-input\",attrs:{\"type\":\"text\",\"name\":\"username\",\"id\":\"username\",\"placeholder\":\"User Name\"},domProps:{\"value\":(_vm.signupCred.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.signupCred, \"username\", $event.target.value)}}}),_c('label',{staticClass:\"centerize-label\",attrs:{\"for\":\"password\"}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.signupCred.password),expression:\"signupCred.password\"}],staticClass:\" signup-input\",attrs:{\"type\":\"password\",\"name\":\"password\",\"id\":\"password\",\"placeholder\":\"Password\"},domProps:{\"value\":(_vm.signupCred.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.signupCred, \"password\", $event.target.value)}}})]),_c('button',{staticClass:\"signup-btn\"},[_vm._v(\"Sign Up Now\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"signup-container-modal\">\r\n        <form @submit.prevent=\"doSignup\" class=\"signup-form\" id=\"parent-node\">\r\n            <div class=\"input-container\">\r\n                <label for=\"fullname\" class=\"centerize-label\"></label>\r\n                <input   type=\"text\" name=\"fullname\" id=\"fullname\" v-model=\"signupCred.fullname\" placeholder=\"Full Name\" class=\" signup-input\" />\r\n                <label for=\"username\" class=\"centerize-label\"></label>\r\n                <input type=\"text\"  name=\"username\" id=\"username\" v-model=\"signupCred.username\" placeholder=\"User Name\"  class=\" signup-input\"  />\r\n                <label for=\"password\" class=\"centerize-label\"></label>\r\n                <input  type=\"password\" name=\"password\" id=\"password\" v-model=\"signupCred.password\" placeholder=\"Password\" class=\" signup-input\"  />\r\n            </div>\r\n            <button class=\"signup-btn\" >Sign Up Now</button>\r\n        </form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\nname: \"signup\",\r\n    data() {\r\n    return {\r\n        signupCred: {username: '', password: '', fullname: ''},\r\n    };\r\n},\r\n\r\nmethods:{\r\n    doSignup(){\r\n        this.$emit(\"signupCred\",this.signupCred)\r\n    }\r\n}\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./signup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./signup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./signup.vue?vue&type=template&id=1ddfcddd&\"\nimport script from \"./signup.vue?vue&type=script&lang=js&\"\nexport * from \"./signup.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"login-layout\" @click.self=\"closecreatNewUser\">\n    <div class=\"login-container\" @click.self=\"closecreatNewUser\">\n      <p class=\"faild-login\">{{ msg }}</p>\n\n        <div v-if=\"loggedinUser\">\n          <h3 class=\"login-h3\">\n            Loggedin User:\n            <span class=\"login-user-name\"> {{ loggedinUser.username }} </span>\n          </h3>\n          <div class=\"logout-btn-container\">\n            <button class=\"logout-btn\" @click=\"doLogout\">Log Out</button>\n          </div>\n        </div>\n        \n      <div v-else @click.self=\"closecreatNewUser\">\n        <h2 style=\"text-align: center\">You Need to Login First !</h2>\n        <div v-if=\"!loggedinUser\" class=\"login-warning\">\n          Choose User To Login\n        </div>\n        <div class=\"user-logout\">\n          <form @submit.prevent=\"doLogin\" class=\"login-form\">\n            <select class=\"login-input\" v-model=\"loginCred.username\">\n              <!-- <option value=\"\">Select User</option> -->\n              <option  v-for=\"user in users\" :key=\"user._id\"  :value=\"user.username\"  >\n                {{ user.fullname }}\n              </option>\n            </select>\n            <div class=\"login-btn-container\"></div>\n            <button class=\"login-btn\">Log In</button>\n            <div class=\"login-line\"></div>\n            <div class=\"new-account-btn-separation\"></div>\n            <button class=\"new-account-btn\" @click.prevent=\"creatNewUser\">\n              Creat New Account\n            </button>\n          </form>\n        </div>\n        <transition name=\"fade2\">\n          <div class=\"signup-container\" v-if=\"newUserModal\">\n            <signup @signupCred=\"doSignup\" />\n          </div>\n        </transition>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { socketService } from \"@/services/socket.service\";\nimport signup from \"@/cmps/signup\";\n\nexport default {\n  name: \"login-signup\",\n  data() {\n    return {\n      newUserModal: false,\n      userId: null,\n      msg: \"\",\n      loginCred: { username: \"victoria_o\", password: \"1234\" },\n      signupCred: { username: \"\", password: \"\", fullname: \"\" },\n    };\n  },\n  computed: {\n    users() {\n      return this.$store.getters.users;\n    },\n    loggedinUser() {\n      //   console.log('login user in login loguot ', this.$store.getters.loggedinUser);\n      return this.$store.getters.loggedinUser;\n    },\n  },\n  async created() {\n    // const userToLogin = this.$store.getters.users\n    // this.loginCred.username = userToLogin[3].username ;\n    // console.log('created at login  ',  this.loginCred.username)\n    // this.doLogin()\n  },\n  methods: {\n    closecreatNewUser() {\n      this.newUserModal = false;\n    },\n    creatNewUser() {\n      this.newUserModal = !this.newUserModal;\n    },\n    async doLogin() {\n      if (!this.loginCred.username) {\n        this.msg = \"Please enter username/password\";\n        return;\n      }\n      try {\n        //   console.log('doing login with : ,',this.loginCred)\n        await this.$store.dispatch({ type: \"login\", userCred: this.loginCred });\n        const loginUser = this.$store.getters.loggedinUser;\n        // const loggedinUser = this.$store.getters.loggedinUser;\n        //  socketService.emit(\"updateLoginUser\",loggedinUser);\n        socketService.emit(\"user-connected-details\", loginUser);\n        //this.userId = this.$store.getters.loggedinUser._id\n        this.userId = loginUser._id;\n        this.$router.push(`/user/${this.userId}`);\n        // this.$router.push('/')\n      } catch (err) {\n        console.log(err);\n        this.msg = \"Failed to login\";\n      }\n    },\n    doLogout() {\n      this.$store.dispatch({ type: \"logout\" });\n      socketService.emit(\"user-disconnect\", this.$store.getters.loggedinUser);\n    },\n    async doSignup(signupCred) {\n      console.log(\"do signup in login-logout\");\n      if (\n        !signupCred.fullname ||\n        !signupCred.password ||\n        !signupCred.username\n      ) {\n        this.msg = \"Please fill up the form\";\n        return;\n      }\n      this.newUserModal = false;\n      await this.$store.dispatch({ type: \"signup\", userCred: signupCred });\n      this.userId = this.$store.getters.loggedinUser._id;\n      await this.$store.dispatch({ type: \"loadStories\" });\n      await this.$store.dispatch({ type: \"loadUsers\" });\n      this.$router.push(`/user/${this.userId}`);\n    },\n    loadUsers() {\n      this.$store.dispatch({ type: \"loadUsers\" });\n    },\n    async removeUser(userId) {\n      try {\n        await this.$store.dispatch({ type: \"removeUser\", userId });\n        this.msg = \"User removed\";\n      } catch (err) {\n        this.msg = \"Failed to remove user\";\n      }\n    },\n  },\n  components: {\n    signup,\n  },\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login-signup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login-signup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login-signup.vue?vue&type=template&id=79a8fbc8&\"\nimport script from \"./login-signup.vue?vue&type=script&lang=js&\"\nexport * from \"./login-signup.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"story-app-container\"},[(_vm.selectedStory)?_c('storyPreviewModalContainer',{attrs:{\"story\":_vm.selectedStoryFromComputed,\"smiles\":_vm.smiliesToShow},on:{\"click\":_vm.close,\"removepost\":_vm.removepost}}):_vm._e(),_c('div',{on:{\"click\":function($event){$event.stopPropagation();return _vm.closeModal()}}},[(_vm.storiesToShow)?_c('div',{staticClass:\"app-center\"},[_c('story-list',{attrs:{\"stories\":_vm.storiesToShow,\"smiles\":_vm.smiliesToShow},on:{\"storyToModal\":_vm.storyToModal}})],1):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Publisher - Subscriber\r\nimport Vue from 'vue'\r\nexport const eventBus = new Vue()\r\n\r\n// Emits, but no one will be notified\r\neventBus.$emit('puk', 12);\r\n\r\neventBus.$on('addIcon', () => {\r\n    console.log('addIcon')\r\n    eventBus.$emit('addIconoComment');\r\n})\r\neventBus.$on('closeModal', () => {\r\n    eventBus.$emit('closeModalFromBus');\r\n    console.log('closeModalFromBus Happened')\r\n})\r\neventBus.$on('puk', (val) => {\r\n    console.log('Observing that Puk ', val)\r\n})\r\n\r\n// Debug Technique:\r\nwindow.myBus = eventBus;\r\n\r\n\r\n// eventBus.$emit('puk', 13);\r\n// setTimeout(()=>{\r\n//     eventBus.$emit('puk', 3);\r\n// }, 200)\r\n\r\n\r\n// eventBus.$on('puk2', () => {\r\n//     console.log('me too!')\r\n// })","import { utilService } from \"./util.service.js\";\r\n// import axios from 'axios'\r\nimport { storageService } from \"./async-storage.service.js\";\r\nimport {httpService} from './http.service'\r\n\r\n\r\nconst gStories = require('../data/story.json');\r\nconst KEY = 'storyDB';\r\nconst gSmiles = require('../data/smiley.json');\r\n\r\n\r\n\r\n\r\nexport const storyService = {\r\n  query,\r\n  getById,\r\n  remove,\r\n  save,\r\n  getEmptystory,\r\n  getSmiles,\r\n  querySmiley\r\n\r\n}\r\n\r\nfunction query(filterBy) {\r\n  const queryStr = (!filterBy) ? '' : `?name=${filterBy.name}&sort=anaAref`\r\n  return  httpService.get(`story${queryStr}`)\r\n\r\n\r\n\r\n  // if (!filterBy){\r\n  //   const stories =  storageService.query(KEY);\r\n  //   console.log(' on story service,',stories)\r\n  //   if (!stories || !stories.length ){\r\n  //     console.log(' on story service,',stories)\r\n  //     localStorage.setItem(KEY, JSON.stringify(gStories))\r\n  //     return storageService.query(KEY);\r\n  //   }else{\r\n  //     return stories\r\n  //   }\r\n  // }else{\r\n  //     const tempStories =  storageService.query(KEY);\r\n  //     if (!tempStories || undefined  ){\r\n  //         const stories = gStories.filter(story => {\r\n  //         return (story.tags.includes(filterBy.name) && (filterBy.rating === story.rating) \r\n  //         ) \r\n  //     })\r\n  //    return stories\r\n  //   }else{\r\n  //       const stories = tempStories.filter(story => {\r\n  //         return (story.tags.includes(filterBy.name) && (filterBy.rating === story.rating) \r\n  //       ) \r\n  //     })\r\n  //     return stories\r\n  //   }\r\n  // }\r\n\r\n \r\n\r\n}\r\n\r\nfunction getById(id) {\r\n  // return storageService.get(KEY, id)\r\n  return  httpService.get(`story/${id}`)\r\n\r\n}\r\n\r\nfunction remove(id) {\r\n //return storageService.remove(KEY, id)\r\n  return httpService.delete(`story/${id}`)\r\n}\r\n\r\nfunction save(story) {\r\n  console.log('at story service before sent to DB',story)\r\n  if (story._id) {\r\n //   console.log('update story at  strory.sevice')\r\n    return  httpService.put(`story/${story._id}`,story)             // update a story\r\n} else {\r\n    //console.log('add new story at story.service', story)\r\n    return httpService.post(`story/`,story)                     // addad a  new story\r\n}\r\n\r\n  return savedStory;\r\n}\r\n\r\nfunction getEmptystory(){\r\n  return {\r\n    txt: '',\r\n    imgUrl: '',\r\n    createdAt: '',\r\n    by : {\r\n      _id: '',\r\n      fullname: \"\",\r\n      imgUrl: \"\"\r\n    },\r\n    loc: {\r\n      lat: null,\r\n      lng: null,\r\n      name: \"\"\r\n    },\r\n    comments: [\r\n\r\n    ],\r\n    likedBy: [\r\n\r\n    ],\r\n    tags: [\"\", \"\"]\r\n  }\r\n\r\n}\r\n\r\nfunction querySmiley(){\r\n  return  httpService.get(`smiley`)\r\n}\r\n\r\n\r\nfunction getSmiles(){\r\n  return querySmiley()\r\n}\r\n// function getSmiles(){\r\n//   gSmiles.forEach(smile=>{\r\n//    smile._idx = utilService.makeId()\r\n//   })\r\n//   return gSmiles\r\n// }\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"story-app-container\"},[_c('div',{staticClass:\"story-list-container\"},_vm._l((_vm.stories),function(story){return _c('div',{key:story._id,staticClass:\"story-container\"},[_c('story-preview',{attrs:{\"story\":story,\"smiles\":_vm.smiles},on:{\"storyToModal\":_vm.storyToModal}})],1)}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"preview-main\"},[_c('div',{staticClass:\"story-father\"},[_c('div',{staticClass:\"post-details\"},[_c('div',{staticClass:\"post-details-header\"},[_c('div',{staticClass:\"screen-preview\"},[_c('router-link',{attrs:{\"to\":(\"/user/\" + (_vm.story.by._id))}},[_c('img',{staticClass:\"story-details-img opacity\",attrs:{\"src\":_vm.story.by.imgUrl,\"alt\":\"story user image\"}})]),_c('span',{staticClass:\"post-details-router-name opacity\"},[_c('router-link',{staticClass:\"story-name\",attrs:{\"to\":(\"/user/\" + (_vm.story.by._id))}},[_vm._v(\" \"+_vm._s(_vm.story.by.fullname)+\" \")])],1)],1),_c('button',{staticClass:\"post-details-header-btn opacity\"},[_c('svg',{attrs:{\"height\":\"16\",\"viewBox\":\"0 0 48 48\",\"width\":\"16\"}},[_c('circle',{attrs:{\"clip-rule\":\"evenodd\",\"cx\":\"8\",\"cy\":\"24\",\"fill-rule\":\"evenodd\",\"r\":\"4.5\"}}),_c('circle',{attrs:{\"clip-rule\":\"evenodd\",\"cx\":\"24\",\"cy\":\"24\",\"fill-rule\":\"evenodd\",\"r\":\"4.5\"}}),_c('circle',{attrs:{\"clip-rule\":\"evenodd\",\"cx\":\"40\",\"cy\":\"24\",\"fill-rule\":\"evenodd\",\"r\":\"4.5\"}})])])]),_c('img',{staticClass:\"story-img\",attrs:{\"src\":_vm.story.imgUrl,\"alt\":\"story image\"}}),_c('div',{staticClass:\"story-details-content\",on:{\"click\":function($event){$event.stopPropagation();return _vm.closeModal()}}},[_c('div',{staticClass:\"post-actions\"},[_c('div',{staticClass:\"post-btn\"},[_c('button',{staticClass:\"post-actions-btn-like opacity\",on:{\"click\":function($event){$event.stopPropagation();return _vm.addLike(_vm.story._id)}}},[(_vm.isLiked)?_c('svg',{staticClass:\"like likeAnimation\",attrs:{\"height\":\"24\",\"viewBox\":\"0 0 48 48\",\"width\":\"24\"}},[_c('path',{attrs:{\"d\":\"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z\"}})]):_c('svg',{staticClass:\"nolike\",attrs:{\"height\":\"24\",\"viewBox\":\"0 0 48 48\",\"width\":\"24\"}},[_c('path',{attrs:{\"d\":\"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z\"}})])]),_c('button',{staticClass:\"post-actions-btn opacity\"},[_c('svg',{attrs:{\"height\":\"24\",\"viewBox\":\"0 0 48 48\",\"width\":\"24\"}},[_c('path',{attrs:{\"clip-rule\":\"evenodd\",\"d\":\"M47.5 46.1l-2.8-11c1.8-3.3 2.8-7.1 2.8-11.1C47.5 11 37 .5 24 .5S.5 11 .5 24 11 47.5 24 47.5c4 0 7.8-1 11.1-2.8l11 2.8c.8.2 1.6-.6 1.4-1.4zm-3-22.1c0 4-1 7-2.6 10-.2.4-.3.9-.2 1.4l2.1 8.4-8.3-2.1c-.5-.1-1-.1-1.4.2-1.8 1-5.2 2.6-10 2.6-11.4 0-20.6-9.2-20.6-20.5S12.7 3.5 24 3.5 44.5 12.7 44.5 24z\",\"fill-rule\":\"evenodd\"}})])]),_c('button',{staticClass:\"post-actions-btn opacity\"},[_c('svg',{attrs:{\"aria-label\":\"Share Post\",\"height\":\"24\",\"viewBox\":\"0 0 48 48\",\"width\":\"24\"}},[_c('path',{attrs:{\"d\":\"M47.8 3.8c-.3-.5-.8-.8-1.3-.8h-45C.9 3.1.3 3.5.1 4S0 5.2.4 5.7l15.9 15.6 5.5 22.6c.1.6.6 1 1.2 1.1h.2c.5 0 1-.3 1.3-.7l23.2-39c.4-.4.4-1 .1-1.5zM5.2 6.1h35.5L18 18.7 5.2 6.1zm18.7 33.6l-4.4-18.4L42.4 8.6 23.9 39.7z\"}})])])]),_c('button',{staticClass:\"post-actions-btn opacity\"},[_c('svg',{attrs:{\"aria-label\":\"Save\",\"height\":\"24\",\"viewBox\":\"0 0 48 48\",\"width\":\"24\"}},[_c('path',{attrs:{\"d\":\"M43.5 48c-.4 0-.8-.2-1.1-.4L24 29 5.6 47.6c-.4.4-1.1.6-1.6.3-.6-.2-1-.8-1-1.4v-45C3 .7 3.7 0 4.5 0h39c.8 0 1.5.7 1.5 1.5v45c0 .6-.4 1.2-.9 1.4-.2.1-.4.1-.6.1zM24 26c.8 0 1.6.3 2.2.9l15.8 16V3H6v39.9l15.8-16c.6-.6 1.4-.9 2.2-.9z\"}})])])]),_c('div',[_c('button',{staticClass:\"post-like-btn\"},[_vm._v(\" \"+_vm._s(_vm.story.likedBy.length)+\" likes \")])]),_c('div',{staticClass:\"story-actions\"}),_c('div',[_c('div',{staticClass:\"screen\"},[_c('span',{staticClass:\"story-name\"},[_vm._v(\" \"+_vm._s(_vm.story.by.fullname)+\"  \")]),_vm._v(\"   \\n                \"+_vm._s(_vm.story.txt)+\"\\n            \")])]),(_vm.story.comments.length>2)?_c('a',{staticClass:\"view-comments\",attrs:{\"tabindex\":\"0\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.openModal()}}},[_vm._v(\"View all \"),_c('span',[_vm._v(_vm._s(_vm.story.comments.length))]),_vm._v(\" comments\")]):_vm._e(),(_vm.story.comments.length>0)?_c('div',{staticClass:\"story-row\"},[_c('div',{staticClass:\"comment\"},[_c('div',[_c('span',{staticClass:\"story-name\"},[_vm._v(\" \"+_vm._s(_vm.story.comments[0].by.fullname)+\" \")]),_c('span',[_vm._v(\" \"+_vm._s(_vm.story.comments[0].txt)+\" \")])]),_c('button',{staticClass:\"post-actions-btn-like opacity\",on:{\"click\":function($event){return _vm.addLikeToComment(_vm.story._id,0)}}},[(_vm.isCommntLiked[0])?_c('svg',{staticClass:\"like-comment likeAnimation\",attrs:{\"height\":\"24\",\"viewBox\":\"0 0 48 48\",\"width\":\"24\"}},[_c('path',{attrs:{\"d\":\"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z\"}})]):_c('svg',{staticClass:\"nolike-comment\",attrs:{\"height\":\"24\",\"viewBox\":\"0 0 48 48\",\"width\":\"24\"}},[_c('path',{attrs:{\"d\":\"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z\"}})])])]),(_vm.story.comments.length>1)?_c('div',{staticClass:\"comment\"},[_c('div',[_c('span',{staticClass:\"story-name\"},[_vm._v(\" \"+_vm._s(_vm.story.comments[1].by.fullname)+\" \")]),_c('span',[_vm._v(\" \"+_vm._s(_vm.story.comments[1].txt)+\" \")])]),_c('button',{staticClass:\"post-actions-btn-like opacity\",on:{\"click\":function($event){return _vm.addLikeToComment(_vm.story._id,1)}}},[(_vm.isCommntLiked[1])?_c('svg',{staticClass:\"like-comment likeAnimation\",attrs:{\"height\":\"24\",\"viewBox\":\"0 0 48 48\",\"width\":\"24\"}},[_c('path',{attrs:{\"d\":\"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z\"}})]):_c('svg',{staticClass:\"nolike-comment\",attrs:{\"height\":\"24\",\"viewBox\":\"0 0 48 48\",\"width\":\"24\"}},[_c('path',{attrs:{\"d\":\"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z\"}})])])]):_vm._e()]):_vm._e(),_c('div',{staticClass:\"smily-modal  hide\",class:{show: _vm.isSmilyModal }},[_c('div',{staticClass:\"inner-smily-modal\"},[_c('div',{staticClass:\"smily-most-popular\"},[_vm._v(\" Most Popular \")]),_c('div',{staticClass:\"grid-container\"},[_c('div',{staticClass:\"smily-grid\"},_vm._l((_vm.smiles),function(s){return _c('div',{key:s._id,staticClass:\"smily-img-container \"},[_c('img',{staticClass:\"smiley-img \",attrs:{\"src\":s.url,\"alt\":\"smiley image\"},on:{\"click\":function($event){return _vm.addIcon(s._id)}}})])}),0)])])])]),_c('div',{staticClass:\"post-details-add-comment\"},[_c('div',{staticClass:\"smily-btn\",on:{\"click\":function($event){$event.stopPropagation();return _vm.openSmily()}}},[_c('svg',{attrs:{\"aria-label\":\"Emoji\",\"fill\":\"#262626\",\"height\":\"24\",\"viewBox\":\"0 0 48 48\",\"width\":\"24\"}},[_c('path',{attrs:{\"d\":\"M24 48C10.8 48 0 37.2 0 24S10.8 0 24 0s24 10.8 24 24-10.8 24-24 24zm0-45C12.4 3 3 12.4 3 24s9.4 21 21 21 21-9.4 21-21S35.6 3 24 3z\"}}),_c('path',{attrs:{\"d\":\"M34.9 24c0-1.4-1.1-2.5-2.5-2.5s-2.5 1.1-2.5 2.5 1.1 2.5 2.5 2.5 2.5-1.1 2.5-2.5zm-21.8 0c0-1.4 1.1-2.5 2.5-2.5s2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5-2.5-1.1-2.5-2.5zM24 37.3c-5.2 0-8-3.5-8.2-3.7-.5-.6-.4-1.6.2-2.1.6-.5 1.6-.4 2.1.2.1.1 2.1 2.5 5.8 2.5 3.7 0 5.8-2.5 5.8-2.5.5-.6 1.5-.7 2.1-.2.6.5.7 1.5.2 2.1 0 .2-2.8 3.7-8 3.7z\"}})])]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.txt),expression:\"txt\"}],staticClass:\"comment-input\",attrs:{\"name\":\"\",\"id\":_vm.story._id,\"cols\":\"\",\"rows\":\"1\",\"placeholder\":\"add a comment...\"},domProps:{\"value\":(_vm.txt)},on:{\"click\":function($event){$event.stopPropagation();return _vm.closeSmily()},\"input\":function($event){if($event.target.composing){ return; }_vm.txt=$event.target.value}}}),_c('button',{staticClass:\"post-details-add-comment-btn \",class:{istxt: _vm.txt },on:{\"click\":function($event){return _vm.addComment(_vm.story._id)}}},[_vm._v(\"Post\")])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <section class=\"preview-main\" >\r\n      <div class=\"story-father\" >\r\n      <div class=\"post-details\">\r\n        <div class=\"post-details-header\">\r\n            <div class=\"screen-preview\">\r\n              <router-link :to=\"`/user/${ story.by._id}`\" > <img :src=\"story.by.imgUrl\" class=\"story-details-img opacity\" alt=\"story user image\" /></router-link>\r\n                <span class=\"post-details-router-name opacity\">\r\n                <router-link :to=\"`/user/${ story.by._id}`\" class=\"story-name\" > {{ story.by.fullname }} </router-link>\r\n              </span>\r\n          </div>\r\n          <button class=\"post-details-header-btn opacity\">\r\n              <svg height=\"16\" viewBox=\"0 0 48 48\" width=\"16\"><circle clip-rule=\"evenodd\" cx=\"8\" cy=\"24\" fill-rule=\"evenodd\" r=\"4.5\"></circle><circle clip-rule=\"evenodd\" cx=\"24\" cy=\"24\" fill-rule=\"evenodd\" r=\"4.5\"></circle><circle clip-rule=\"evenodd\" cx=\"40\" cy=\"24\" fill-rule=\"evenodd\" r=\"4.5\"></circle></svg>\r\n          </button>\r\n        </div>\r\n                    <!------ Main image ------->\r\n        <img class=\"story-img\" :src=\"story.imgUrl\" alt=\"story image\"/>\r\n          <!------------ main-post-details-content --------------->\r\n      <div class=\"story-details-content\"  @click.stop=\"closeModal()\" >\r\n        <div class=\"post-actions\">\r\n            <div class=\"post-btn\"  >\r\n            <button class=\"post-actions-btn-like opacity\" @click.stop=\"addLike(story._id)\">\r\n              <svg v-if=\"isLiked\" height=\"24\" viewBox=\"0 0 48 48\" width=\"24\" class=\"like likeAnimation\"><path d=\"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z\"></path></svg>\r\n              <svg  v-else  height=\"24\" viewBox=\"0 0 48 48\" width=\"24\" class=\"nolike\"><path d=\"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z\"></path></svg>\r\n            </button>\r\n              <button class=\"post-actions-btn opacity\">\r\n              <svg height=\"24\" viewBox=\"0 0 48 48\" width=\"24\"><path clip-rule=\"evenodd\" d=\"M47.5 46.1l-2.8-11c1.8-3.3 2.8-7.1 2.8-11.1C47.5 11 37 .5 24 .5S.5 11 .5 24 11 47.5 24 47.5c4 0 7.8-1 11.1-2.8l11 2.8c.8.2 1.6-.6 1.4-1.4zm-3-22.1c0 4-1 7-2.6 10-.2.4-.3.9-.2 1.4l2.1 8.4-8.3-2.1c-.5-.1-1-.1-1.4.2-1.8 1-5.2 2.6-10 2.6-11.4 0-20.6-9.2-20.6-20.5S12.7 3.5 24 3.5 44.5 12.7 44.5 24z\" fill-rule=\"evenodd\"></path></svg>\r\n              </button>\r\n              <button class=\"post-actions-btn opacity\">\r\n                <svg aria-label=\"Share Post\" height=\"24\" viewBox=\"0 0 48 48\" width=\"24\"><path d=\"M47.8 3.8c-.3-.5-.8-.8-1.3-.8h-45C.9 3.1.3 3.5.1 4S0 5.2.4 5.7l15.9 15.6 5.5 22.6c.1.6.6 1 1.2 1.1h.2c.5 0 1-.3 1.3-.7l23.2-39c.4-.4.4-1 .1-1.5zM5.2 6.1h35.5L18 18.7 5.2 6.1zm18.7 33.6l-4.4-18.4L42.4 8.6 23.9 39.7z\"></path></svg>\r\n              </button>\r\n            </div>\r\n              <button class=\"post-actions-btn opacity\">\r\n                <svg aria-label=\"Save\" height=\"24\" viewBox=\"0 0 48 48\" width=\"24\"><path d=\"M43.5 48c-.4 0-.8-.2-1.1-.4L24 29 5.6 47.6c-.4.4-1.1.6-1.6.3-.6-.2-1-.8-1-1.4v-45C3 .7 3.7 0 4.5 0h39c.8 0 1.5.7 1.5 1.5v45c0 .6-.4 1.2-.9 1.4-.2.1-.4.1-.6.1zM24 26c.8 0 1.6.3 2.2.9l15.8 16V3H6v39.9l15.8-16c.6-.6 1.4-.9 2.2-.9z\"></path></svg>\r\n              </button>\r\n        </div>\r\n          <div>\r\n            <button class=\"post-like-btn\"> {{story.likedBy.length}} likes </button>\r\n          </div>\r\n              \r\n          <div class=\"story-actions\"></div>\r\n              <div>\r\n                <div class=\"screen\">\r\n                <span class=\"story-name\"> {{ story.by.fullname }}  </span>   \r\n                  {{ story.txt }}\r\n              </div>\r\n            </div>\r\n            <a class=\"view-comments\"  v-if=\"story.comments.length>2\" tabindex=\"0\"  @click.stop=\"openModal()\">View all <span>{{story.comments.length}}</span> comments</a>\r\n            <!-- <button  @click.stop=\"openModal(story._id)\">  View all <span>{{story.comments.length}}</span> comment    </button> -->\r\n    \r\n          <div class=\"story-row\" v-if=\"story.comments.length>0\" >\r\n              <div class=\"comment\">\r\n                <div>\r\n                  <span class=\"story-name\"> {{ story.comments[0].by.fullname }} </span>\r\n                  <span> {{  story.comments[0].txt }} </span>\r\n                </div>\r\n                    <button class=\"post-actions-btn-like opacity\" @click=\"addLikeToComment(story._id,0)\">\r\n                            <svg v-if=\"isCommntLiked[0]\" height=\"24\" viewBox=\"0 0 48 48\" width=\"24\" class=\"like-comment likeAnimation\"><path d=\"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z\"></path></svg>\r\n                            <svg  v-else  height=\"24\" viewBox=\"0 0 48 48\" width=\"24\" class=\"nolike-comment\"><path d=\"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z\"></path></svg>\r\n                    </button>\r\n              </div>\r\n              <div class=\"comment\"  v-if=\"story.comments.length>1\" >\r\n                  <div>\r\n                    <span class=\"story-name\"> {{ story.comments[1].by.fullname }} </span>\r\n                    <span> {{  story.comments[1].txt }} </span>\r\n                  </div>\r\n                    <button class=\"post-actions-btn-like opacity\" @click=\"addLikeToComment(story._id,1)\">\r\n                            <svg v-if=\"isCommntLiked[1]\" height=\"24\" viewBox=\"0 0 48 48\" width=\"24\" class=\"like-comment likeAnimation\"><path d=\"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z\"></path></svg>\r\n                            <svg  v-else  height=\"24\" viewBox=\"0 0 48 48\" width=\"24\" class=\"nolike-comment\"><path d=\"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z\"></path></svg>\r\n                    </button>\r\n              </div>\r\n          </div>   \r\n                    <!-- smily-modal  -->\r\n          <div class=\"smily-modal  hide\" v-bind:class=\"{show: isSmilyModal }\">\r\n            <div class=\"inner-smily-modal\">\r\n                <div class=\"smily-most-popular\"> Most Popular </div>\r\n                  <div class=\"grid-container\">\r\n                    <div class=\"smily-grid\">\r\n                      <div  class=\"smily-img-container \" v-for=\"s in smiles\" :key=\"s._id\">\r\n                        <img  :src=\"s.url\" class=\"smiley-img \" @click=\"addIcon(s._id)\" alt=\"smiley image\">\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n            </div>\r\n          </div>\r\n    \r\n        </div>\r\n      \r\n                    <!-- post-row -->\r\n        <div class=\"post-details-add-comment\">\r\n          <div class=\"smily-btn\" @click.stop=\"openSmily()\">\r\n            <svg aria-label=\"Emoji\" class=\"\" fill=\"#262626\" height=\"24\" viewBox=\"0 0 48 48\" width=\"24\"><path d=\"M24 48C10.8 48 0 37.2 0 24S10.8 0 24 0s24 10.8 24 24-10.8 24-24 24zm0-45C12.4 3 3 12.4 3 24s9.4 21 21 21 21-9.4 21-21S35.6 3 24 3z\"></path><path d=\"M34.9 24c0-1.4-1.1-2.5-2.5-2.5s-2.5 1.1-2.5 2.5 1.1 2.5 2.5 2.5 2.5-1.1 2.5-2.5zm-21.8 0c0-1.4 1.1-2.5 2.5-2.5s2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5-2.5-1.1-2.5-2.5zM24 37.3c-5.2 0-8-3.5-8.2-3.7-.5-.6-.4-1.6.2-2.1.6-.5 1.6-.4 2.1.2.1.1 2.1 2.5 5.8 2.5 3.7 0 5.8-2.5 5.8-2.5.5-.6 1.5-.7 2.1-.2.6.5.7 1.5.2 2.1 0 .2-2.8 3.7-8 3.7z\"></path></svg>\r\n          </div>\r\n            <textarea name=\"\" :id=\"story._id\" cols=\"\" rows=\"1\" placeholder=\"add a comment...\" @click.stop=\"closeSmily()\" class=\"comment-input\"   v-model=\"txt\"   ></textarea>\r\n            <button class=\"post-details-add-comment-btn \"  @click=\"addComment(story._id)\" v-bind:class=\"{istxt: txt }\">Post</button>\r\n        </div>\r\n      </div>\r\n  </div>\r\n  </section>\r\n\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"story-preview\",\r\n  props: [\"story\",\"smiles\"],\r\n  data() {\r\n    return {\r\n      isActive: false,\r\n      isLiked : false,\r\n      txt : '',\r\n      isCommntLiked : [],\r\n      isModal : false,\r\n      isSmilyModal : false,\r\n    };\r\n  },\r\n  created(){\r\n  //  console.log('smiles in story-preview',this.smiles)\r\n  },\r\n  mounted() { \r\n  },\r\n  destroyed(){ \r\n  },\r\n\r\n  computed: {\r\n    getDetails(){\r\n      return  {\r\n        story : this.story,\r\n        icons : this.icons\r\n      }\r\n      },\r\n  },\r\n  methods: {\r\n    addCommentToStory(commentStory){\r\n      if(this.story._id===commentStory.storyId){\r\n         // console.log('yesssssssssssssssssssssssssssssssssssss')\r\n          this.txt=commentStory.txt\r\n          this.addComment(commentStory.storyId)\r\n      }\r\n    },\r\n    ifThisIsTheModal(id){\r\n      if(this.story._id===id){\r\n       //     console.log('the bus evemt from actionbar in  story-preview from bus',id)\r\n      \r\n            this.addLike(id)\r\n           //this.addLikeFromModal(id)\r\n           // this.openModal()\r\n        }\r\n\r\n    },\r\n    addIcon(id){\r\n    const smile = this.smiles.filter(smile => {\r\n      return (smile._id===id)\r\n    })\r\n      console.log('emoji in story-preview',smile[0].emoji) \r\n      !this.txt ?  this.txt = String.fromCodePoint(smile[0].emoji) : this.txt += String.fromCodePoint(smile[0].emoji)\r\n    },\r\n    openSmily(){\r\n        this.isSmilyModal = !this.isSmilyModal;\r\n    },\r\n    closeSmily(){\r\n        this.isSmilyModal  = false;\r\n    },\r\n    openModal(){\r\n        this.$emit(\"storyToModal\", this.story);\r\n    },\r\n    closeModal(){\r\n        this.isModal = false\r\n    },\r\n    removeComment(id) {\r\n      //console.log('comment id delete from story preview,' ,id)\r\n      // this.$emit(\"removeComment\", id);\r\n    },\r\n    myFilter() {\r\n      this.isActive = !this.isActive;\r\n      \r\n    },\r\n    addLikeToComment(id,commentIdx){ \r\n      if(!this.isCommntLiked[commentIdx]){\r\n        this.isCommntLiked[commentIdx]=true\r\n    }else{\r\n        this.isCommntLiked[commentIdx]=false\r\n    }\r\n        var details = {\r\n          storyId :id,\r\n          commentIdx :commentIdx\r\n          }\r\n        this.$store.dispatch({ type: 'addLikeToComment', theDetails : details })\r\n\r\n    },\r\n    addLike(id){\r\n      console.log('add like in  story-preview')\r\n      if(!this.isLiked){\r\n        this.$store.dispatch({ type: 'setLikeToStory', storyId: id })    // <================ to change back\r\n        this.isLiked = !this.isLiked\r\n        }else{\r\n        this.$store.dispatch({ type: 'removeLikeFromStory', storyId: id })//  <=================  to change back\r\n        this.isLiked = !this.isLiked\r\n      }\r\n    },\r\n\r\n    addLikeFromModal(id){\r\n   //   console.log('add like in  story-preview')\r\n      if(!this.isLiked){\r\n        this.$store.dispatch({ type: 'setLikeToStory', storyId: id })    // <================ to change back\r\n        this.isLiked = !this.isLiked\r\n        this.openModal()\r\n      }else{\r\n        this.$store.dispatch({ type: 'removeLikeFromStory', storyId: id })//  <=================  to change back\r\n          this.isLiked = !this.isLiked\r\n          this.openModal()\r\n      }\r\n    },\r\n\r\n    addComment(id){\r\n        var commentStory ={\r\n          txt : this.txt,\r\n          storyId : id,\r\n        } \r\n        this.$store.dispatch({ type: 'addCommentToStory', comment: commentStory })\r\n        this.txt = null;\r\n        this.closeSmily()\r\n          this.openModal()\r\n    }\r\n\r\n  },\r\n\r\n  components: {\r\n    \r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./story-preview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./story-preview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./story-preview.vue?vue&type=template&id=640342ae&\"\nimport script from \"./story-preview.vue?vue&type=script&lang=js&\"\nexport * from \"./story-preview.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <section class=\"story-app-container\">\r\n    <div class=\"story-list-container\">\r\n      <div  class=\"story-container\" v-for=\"story in stories\" :key=\"story._id\">\r\n        <!-- <story-preview :story=\"story\" >   <router-view /> </story-preview> -->\r\n        <story-preview :story=\"story\"  @storyToModal=storyToModal :smiles=\"smiles\" >   </story-preview>\r\n     </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport storyPreview from \"@/cmps/story-preview.vue\";\r\nexport default {\r\n  props: {\r\n    stories: {\r\n      type: Array,\r\n    },\r\n    smiles: {\r\n      type: Array,\r\n    },\r\n  },\r\n     mounted (){\r\n  //      console.log('story in list',this.stories)\r\n      },\r\n       methods: {\r\n         storyToModal(story){\r\n    //       console.log('open modal is story ',story)\r\n           this.$emit(\"storyToModal\",story)\r\n         }\r\n       },\r\n\r\n  components: {\r\n    storyPreview,\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./story-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./story-list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./story-list.vue?vue&type=template&id=05183395&\"\nimport script from \"./story-list.vue?vue&type=script&lang=js&\"\nexport * from \"./story-list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"story-preview-modal\"},[_c('div',{staticClass:\"story-preview-modal-content\"},[(_vm.story)?_c('div',{staticClass:\"story-preview-modal-img-container\"},[_c('img',{staticClass:\"story-preview-img-modal\",attrs:{\"src\":_vm.story.imgUrl}})]):_vm._e(),_c('storyPreviewModal',{attrs:{\"story\":_vm.story,\"smiles\":_vm.smiles},on:{\"removepost\":_vm.removepost}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.story)?_c('section',[_c('div',{staticClass:\"story-details-content-preview\",on:{\"click\":function($event){$event.stopPropagation();return _vm.closeDeletPost()}}},[_c('div',{staticClass:\"post-details-header-preview\"},[_c('div',{staticClass:\"screen-preview\"},[_c('router-link',{attrs:{\"to\":(\"/user/\" + (_vm.story.by._id))}},[_c('img',{staticClass:\"story-details-img-preview opacity\",attrs:{\"src\":_vm.story.by.imgUrl}})]),_c('span',{staticClass:\"post-details-router-name-preview opacity\"},[_c('router-link',{staticClass:\"user-name\",attrs:{\"to\":(\"/user/\" + (_vm.story.by._id))}},[_vm._v(\" \"+_vm._s(_vm.story.by.fullname)+\" \")])],1)],1),_c('button',{staticClass:\"post-details-header-btn-preview opacity\",attrs:{\"title\":\"delete post\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.openDeletPost()}}},[_c('svg',{attrs:{\"height\":\"16\",\"viewBox\":\"0 0 48 48\",\"width\":\"16\"}},[_c('circle',{attrs:{\"clip-rule\":\"evenodd\",\"cx\":\"8\",\"cy\":\"24\",\"fill-rule\":\"evenodd\",\"r\":\"4.5\"}}),_c('circle',{attrs:{\"clip-rule\":\"evenodd\",\"cx\":\"24\",\"cy\":\"24\",\"fill-rule\":\"evenodd\",\"r\":\"4.5\"}}),_c('circle',{attrs:{\"clip-rule\":\"evenodd\",\"cx\":\"40\",\"cy\":\"24\",\"fill-rule\":\"evenodd\",\"r\":\"4.5\"}})])])]),(_vm.isDeletePost)?_c('div',[_c('deleteModal',{on:{\"removepost\":_vm.removepost}})],1):_vm._e(),_c('div',{staticClass:\"main-comments-preview\"},[_c('div',{},[_c('div',{staticClass:\"user-comment-preview\"},[_c('div',{staticClass:\"straight-row\"},[_c('router-link',{attrs:{\"to\":(\"/user/\" + (_vm.story.by._id))}},[_c('img',{staticClass:\"story-details-img-preview-user-comment opacity\",attrs:{\"src\":_vm.story.by.imgUrl}})]),_c('span',{staticClass:\"heavy opacity\"},[_c('router-link',{staticClass:\"user-name\",attrs:{\"to\":(\"/user/\" + (_vm.story.by._id))}},[_vm._v(\" \"+_vm._s(_vm.story.by.fullname)+\" \")])],1),_c('span',{staticClass:\"light\"},[_vm._v(_vm._s(_vm.story.txt))])],1)]),_c('div',{staticClass:\"story-row-preview\"},_vm._l((_vm.story.comments),function(comment){return _c('div',{key:comment.id,staticClass:\"comment-preview\"},[_c('storyComment',{key:_vm.componentKey,attrs:{\"story\":_vm.story,\"comment\":comment,\"smiles\":_vm.smiles,\"index\":_vm.story.comments.indexOf(comment)}})],1)}),0)])]),_c('div',{staticClass:\"line\"}),_c('actionBar',{attrs:{\"story\":_vm.getStory}}),_c('div',{staticClass:\"position-modal\"},[(_vm.isSmilyModal)?_c('div',{staticClass:\"smily-modal-preview\"},[_c('smileyMoldal',{attrs:{\"smiles\":_vm.smiles},on:{\"smileyToShow\":_vm.addIcon}})],1):_vm._e()]),_c('div',{staticClass:\"line\"}),_c('commentInput',{attrs:{\"storyId\":_vm.story._id},on:{\"openSmiley\":_vm.openSmiley,\"closeSmiley\":_vm.closeSmiley}})],1)]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"screen-comment\"},[_c('div',{staticClass:\"straight-row\"},[_c('router-link',{attrs:{\"to\":(\"/user/\" + (_vm.comment.by._id))}},[_c('img',{staticClass:\"user-img-comment opacity\",attrs:{\"src\":_vm.comment.by.imgUrl}})]),_c('router-link',{staticClass:\"heavy-comment \",attrs:{\"to\":(\"/user/\" + (_vm.comment.by._id))}},[_vm._v(\"  \"+_vm._s(_vm.comment.by.fullname)+\" \")]),_c('span',{staticClass:\"light-comment\"},[_vm._v(\" \"+_vm._s(_vm.comment.txt)+\" \")])],1),_c('button',{staticClass:\"opacity test\",on:{\"click\":function($event){$event.stopPropagation();return _vm.addLikeToComment()}}},[(_vm.isLikedComputed)?_c('svg',{staticClass:\"like-comment likeAnimation\",attrs:{\"height\":\"24\",\"viewBox\":\"0 0 48 48\",\"width\":\"24\"}},[_c('path',{attrs:{\"d\":\"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z\"}})]):_c('svg',{staticClass:\"notlike-comment small\",attrs:{\"height\":\"24\",\"viewBox\":\"0 0 48 48\",\"width\":\"24\"}},[_c('path',{attrs:{\"d\":\"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z\"}})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  \r\n\r\n                <div class=\"screen-comment\"> \r\n                        <div class=\"straight-row\">\r\n                                <router-link :to=\"`/user/${ comment.by._id}`\" > <img :src=\"comment.by.imgUrl\" class=\"user-img-comment opacity\" /></router-link>\r\n                                <router-link :to=\"`/user/${ comment.by._id}`\" class=\"heavy-comment \" >  {{ comment.by.fullname }} </router-link>\r\n                                <span class=\"light-comment\"> {{  comment.txt }} </span>\r\n                              \r\n                        </div>\r\n                    \r\n                        <button class=\"opacity test\"   @click.stop=\"addLikeToComment()\">\r\n                                  <svg v-if=\"isLikedComputed\" height=\"24\" viewBox=\"0 0 48 48\" width=\"24\" class=\"like-comment likeAnimation\"><path d=\"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z\"></path></svg>\r\n                                  <svg  v-else  height=\"24\" viewBox=\"0 0 48 48\" width=\"24\" class=\"notlike-comment small\"><path d=\"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z\"></path></svg>\r\n                        </button>\r\n                </div>\r\n      \r\n \r\n\r\n\r\n</template>\r\n\r\n<script>\r\nimport { eventBus } from \"@/services/event-bus.service.js\";\r\nexport default {\r\n      props: [\"story\",\"comment\",\"smiles\",\"index\"],\r\n      data() {\r\n      return {\r\n        isActive: false,\r\n        isLiked : false,\r\n        isSmilyModal : false,\r\n        thisCommentIndex : 0\r\n  \r\n    };\r\n  },\r\n  created() {\r\n  },\r\n      computed: {\r\n        isLikedComputed(){\r\n          const loggedinUser = this.$store.getters.loggedinUser;\r\n          const storyUpdated = this.$store.getters.getStoryById(this.story._id)\r\n          const commentToLike = storyUpdated.comments[this.index]\r\n                const isContainUser = commentToLike.likedBy.some((userToFind)=>{\r\n                return (loggedinUser._id === userToFind._id)\r\n          })\r\n          return isContainUser\r\n          //       const isContainComment = storyUpdated.comments.some((commentToFind)=>{\r\n          //       return (this.comment.id === commentToFind.id)\r\n          // })\r\n          // if(isContainComment){\r\n          //       const commentToLikeOrNot = storyUpdated.comments.filter((commentToFind)=>{\r\n          //       return (this.comment.id === commentToFind.id)\r\n          //   })\r\n          // }\r\n          //       const isContainUser = this.story.likedBy.some((userToFind)=>{\r\n          //       return (loggedinUser._id === userToFind._id)\r\n          // })\r\n          // return isContainUser\r\n      }\r\n      },\r\n  methods: {\r\n    addLikeToComment(){ \r\n      console.log(' comment liked ')\r\n      const details = {\r\n          storyId :  this.story._id,\r\n          commentIdx : this.index\r\n        }\r\n      eventBus.$emit('addLikeToComment',details)\r\n      //this.$store.dispatch({ type: 'addLikeToComment', theDetails : details })\r\n     // this.isLiked = !this.isLiked ;\r\n      //console.log(' is liked  , and details : ',details)\r\n  },\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./story-comment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./story-comment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./story-comment.vue?vue&type=template&id=15efa7a4&\"\nimport script from \"./story-comment.vue?vue&type=script&lang=js&\"\nexport * from \"./story-comment.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user-actions-preview\"},[_c('div',{staticClass:\"post-actions-preview\"},[_c('div',{staticClass:\"post-btn-preview\"},[_c('button',{staticClass:\"post-actions-btn-like-preview opacity\",on:{\"click\":function($event){$event.stopPropagation();return _vm.addLike(_vm.story._id)}}},[(_vm.isLikedComputed)?_c('svg',{staticClass:\"like-preview likeAnimation\",attrs:{\"height\":\"24\",\"viewBox\":\"0 0 48 48\",\"width\":\"24\"}},[_c('path',{attrs:{\"d\":\"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z\"}})]):_c('svg',{staticClass:\"nolike-preview\",attrs:{\"height\":\"24\",\"viewBox\":\"0 0 48 48\",\"width\":\"24\"}},[_c('path',{attrs:{\"d\":\"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z\"}})])]),_c('button',{staticClass:\"post-actions-btn-preview opacity\"},[_c('svg',{attrs:{\"height\":\"24\",\"viewBox\":\"0 0 48 48\",\"width\":\"24\"}},[_c('path',{attrs:{\"clip-rule\":\"evenodd\",\"d\":\"M47.5 46.1l-2.8-11c1.8-3.3 2.8-7.1 2.8-11.1C47.5 11 37 .5 24 .5S.5 11 .5 24 11 47.5 24 47.5c4 0 7.8-1 11.1-2.8l11 2.8c.8.2 1.6-.6 1.4-1.4zm-3-22.1c0 4-1 7-2.6 10-.2.4-.3.9-.2 1.4l2.1 8.4-8.3-2.1c-.5-.1-1-.1-1.4.2-1.8 1-5.2 2.6-10 2.6-11.4 0-20.6-9.2-20.6-20.5S12.7 3.5 24 3.5 44.5 12.7 44.5 24z\",\"fill-rule\":\"evenodd\"}})])]),_c('button',{staticClass:\"post-actions-btn-preview opacity\"},[_c('svg',{attrs:{\"aria-label\":\"Share Post\",\"height\":\"24\",\"viewBox\":\"0 0 48 48\",\"width\":\"24\"}},[_c('path',{attrs:{\"d\":\"M47.8 3.8c-.3-.5-.8-.8-1.3-.8h-45C.9 3.1.3 3.5.1 4S0 5.2.4 5.7l15.9 15.6 5.5 22.6c.1.6.6 1 1.2 1.1h.2c.5 0 1-.3 1.3-.7l23.2-39c.4-.4.4-1 .1-1.5zM5.2 6.1h35.5L18 18.7 5.2 6.1zm18.7 33.6l-4.4-18.4L42.4 8.6 23.9 39.7z\"}})])])]),_c('button',{staticClass:\"post-actions-btn-preview opacity\"},[_c('svg',{attrs:{\"aria-label\":\"Save\",\"height\":\"24\",\"viewBox\":\"0 0 48 48\",\"width\":\"24\"}},[_c('path',{attrs:{\"d\":\"M43.5 48c-.4 0-.8-.2-1.1-.4L24 29 5.6 47.6c-.4.4-1.1.6-1.6.3-.6-.2-1-.8-1-1.4v-45C3 .7 3.7 0 4.5 0h39c.8 0 1.5.7 1.5 1.5v45c0 .6-.4 1.2-.9 1.4-.2.1-.4.1-.6.1zM24 26c.8 0 1.6.3 2.2.9l15.8 16V3H6v39.9l15.8-16c.6-.6 1.4-.9 2.2-.9z\"}})])])]),_c('div',[_c('button',{staticClass:\"post-like-btn-preview\"},[_vm._v(\" \"+_vm._s(_vm.likesNums)+\" likes \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n        <div class=\"user-actions-preview\">\r\n                <div class=\"post-actions-preview\">\r\n                    <div class=\"post-btn-preview\"  >\r\n                        <button class=\"post-actions-btn-like-preview opacity\" @click.stop=\"addLike(story._id)\">\r\n                            <svg v-if=\"isLikedComputed\" height=\"24\" viewBox=\"0 0 48 48\" width=\"24\" class=\"like-preview likeAnimation\"><path d=\"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z\"></path></svg>\r\n                            <svg  v-else  height=\"24\" viewBox=\"0 0 48 48\" width=\"24\" class=\"nolike-preview\"><path d=\"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z\"></path></svg>\r\n                        </button>\r\n                        <button class=\"post-actions-btn-preview opacity\">\r\n                            <svg height=\"24\" viewBox=\"0 0 48 48\" width=\"24\"><path clip-rule=\"evenodd\" d=\"M47.5 46.1l-2.8-11c1.8-3.3 2.8-7.1 2.8-11.1C47.5 11 37 .5 24 .5S.5 11 .5 24 11 47.5 24 47.5c4 0 7.8-1 11.1-2.8l11 2.8c.8.2 1.6-.6 1.4-1.4zm-3-22.1c0 4-1 7-2.6 10-.2.4-.3.9-.2 1.4l2.1 8.4-8.3-2.1c-.5-.1-1-.1-1.4.2-1.8 1-5.2 2.6-10 2.6-11.4 0-20.6-9.2-20.6-20.5S12.7 3.5 24 3.5 44.5 12.7 44.5 24z\" fill-rule=\"evenodd\"></path></svg>\r\n                        </button>\r\n                        <button class=\"post-actions-btn-preview opacity\">\r\n                            <svg aria-label=\"Share Post\" height=\"24\" viewBox=\"0 0 48 48\" width=\"24\"><path d=\"M47.8 3.8c-.3-.5-.8-.8-1.3-.8h-45C.9 3.1.3 3.5.1 4S0 5.2.4 5.7l15.9 15.6 5.5 22.6c.1.6.6 1 1.2 1.1h.2c.5 0 1-.3 1.3-.7l23.2-39c.4-.4.4-1 .1-1.5zM5.2 6.1h35.5L18 18.7 5.2 6.1zm18.7 33.6l-4.4-18.4L42.4 8.6 23.9 39.7z\"></path></svg>\r\n                        </button>\r\n                    </div>\r\n                    <button class=\"post-actions-btn-preview opacity\">\r\n                        <svg aria-label=\"Save\" height=\"24\" viewBox=\"0 0 48 48\" width=\"24\"><path d=\"M43.5 48c-.4 0-.8-.2-1.1-.4L24 29 5.6 47.6c-.4.4-1.1.6-1.6.3-.6-.2-1-.8-1-1.4v-45C3 .7 3.7 0 4.5 0h39c.8 0 1.5.7 1.5 1.5v45c0 .6-.4 1.2-.9 1.4-.2.1-.4.1-.6.1zM24 26c.8 0 1.6.3 2.2.9l15.8 16V3H6v39.9l15.8-16c.6-.6 1.4-.9 2.2-.9z\"></path></svg>\r\n                    </button>\r\n                </div>\r\n\r\n                <div>\r\n                    <button class=\"post-like-btn-preview\"> {{likesNums}} likes </button>\r\n                </div>\r\n        </div>\r\n</template>\r\n\r\n<script>\r\nimport { eventBus } from \"@/services/event-bus.service.js\";\r\nexport default {\r\n     props: [\"story\"],\r\n       data() {\r\n         return {\r\n         isLiked : false,\r\n      \r\n    \r\n       };\r\n     },\r\n    created() {\r\n      console.log('created in action bar',this.story.likedBy.length)\r\n    },\r\n    mounted(){\r\n     //     console.log('mounted in action bar')\r\n    },\r\n\r\n  methods: {\r\n    addLike(id){\r\n     // console.log('addLike in action bar befor emmited ',this.story.likedBy.length)\r\n      eventBus.$emit('addLikeFromActionBar',id)\r\n    },\r\n  },\r\n      computed: {\r\n        likesNums(){\r\n          return  this.story.likedBy.length\r\n        },\r\n        isLikedComputed(){\r\n          const loggedinUser = this.$store.getters.loggedinUser;\r\n                const isContainUser = this.story.likedBy.some((userToFind)=>{\r\n                return (loggedinUser._id === userToFind._id)\r\n          })\r\n          return isContainUser\r\n      }\r\n  },\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./action-bar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./action-bar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./action-bar.vue?vue&type=template&id=4aa1c72a&\"\nimport script from \"./action-bar.vue?vue&type=script&lang=js&\"\nexport * from \"./action-bar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"comment-input-row\"},[_c('div',{staticClass:\"comment-smiley-btn\",on:{\"click\":function($event){$event.stopPropagation();return _vm.openSmiley()}}},[_c('svg',{attrs:{\"aria-label\":\"Emoji\",\"fill\":\"#262626\",\"height\":\"24\",\"viewBox\":\"0 0 48 48\",\"width\":\"24\"}},[_c('path',{attrs:{\"d\":\"M24 48C10.8 48 0 37.2 0 24S10.8 0 24 0s24 10.8 24 24-10.8 24-24 24zm0-45C12.4 3 3 12.4 3 24s9.4 21 21 21 21-9.4 21-21S35.6 3 24 3z\"}}),_c('path',{attrs:{\"d\":\"M34.9 24c0-1.4-1.1-2.5-2.5-2.5s-2.5 1.1-2.5 2.5 1.1 2.5 2.5 2.5 2.5-1.1 2.5-2.5zm-21.8 0c0-1.4 1.1-2.5 2.5-2.5s2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5-2.5-1.1-2.5-2.5zM24 37.3c-5.2 0-8-3.5-8.2-3.7-.5-.6-.4-1.6.2-2.1.6-.5 1.6-.4 2.1.2.1.1 2.1 2.5 5.8 2.5 3.7 0 5.8-2.5 5.8-2.5.5-.6 1.5-.7 2.1-.2.6.5.7 1.5.2 2.1 0 .2-2.8 3.7-8 3.7z\"}})])]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.txt),expression:\"txt\"}],staticClass:\"comment-input-preview\",attrs:{\"name\":\"\",\"id\":\"storyId\",\"cols\":\"\",\"rows\":\"1\",\"placeholder\":\"add a comment...\"},domProps:{\"value\":(_vm.txt)},on:{\"click\":function($event){$event.stopPropagation();return _vm.closeSmiley()},\"input\":function($event){if($event.target.composing){ return; }_vm.txt=$event.target.value}}}),_c('button',{staticClass:\"add-comment-btn\",class:{ istxt: _vm.txt },on:{\"click\":function($event){$event.stopPropagation();return _vm.addComment()}}},[_vm._v(\"Post\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"comment-input-row\">\r\n      <div class=\"comment-smiley-btn\" @click.stop=\"openSmiley()\">\r\n          <svg aria-label=\"Emoji\" class=\"\"  fill=\"#262626\" height=\"24\" viewBox=\"0 0 48 48\" width=\"24\"> <path d=\"M24 48C10.8 48 0 37.2 0 24S10.8 0 24 0s24 10.8 24 24-10.8 24-24 24zm0-45C12.4 3 3 12.4 3 24s9.4 21 21 21 21-9.4 21-21S35.6 3 24 3z\"></path><path d=\"M34.9 24c0-1.4-1.1-2.5-2.5-2.5s-2.5 1.1-2.5 2.5 1.1 2.5 2.5 2.5 2.5-1.1 2.5-2.5zm-21.8 0c0-1.4 1.1-2.5 2.5-2.5s2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5-2.5-1.1-2.5-2.5zM24 37.3c-5.2 0-8-3.5-8.2-3.7-.5-.6-.4-1.6.2-2.1.6-.5 1.6-.4 2.1.2.1.1 2.1 2.5 5.8 2.5 3.7 0 5.8-2.5 5.8-2.5.5-.6 1.5-.7 2.1-.2.6.5.7 1.5.2 2.1 0 .2-2.8 3.7-8 3.7z\"></path></svg>\r\n      </div>\r\n      <textarea name=\"\" id=\"storyId\" cols=\"\" rows=\"1\" placeholder=\"add a comment...\" @click.stop=\"closeSmiley()\" class=\"comment-input-preview\" v-model=\"txt\"></textarea>\r\n      <button class=\"add-comment-btn\" @click.stop=\"addComment()\" v-bind:class=\"{ istxt: txt }\">Post</button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { eventBus } from \"@/services/event-bus.service.js\";\r\nexport default {\r\n  props: [\"storyId\"],\r\n  data() {\r\n    return {\r\n      isLiked: false,\r\n      txt: \"\",\r\n    };\r\n  },\r\n\r\n  created() {\r\n    //console.log('in comment input', this.storyId)\r\n    eventBus.$on(\"addIcon\", (smile) => {\r\n      this.addIconToComment(smile);\r\n    });\r\n  },\r\n  destroyed() {\r\n    eventBus.$off(\"addIcon\", (smile) => {\r\n      this.addIconToComment(smile);\r\n    });\r\n  },\r\n\r\n  methods: {\r\n    addComment() {\r\n      var commentStory = {\r\n        txt: this.txt,\r\n        storyId: this.storyId,\r\n      };\r\n      eventBus.$emit('addCommentFromCommentInput',commentStory)\r\n      this.txt = null;\r\n      this.closeSmiley();\r\n    },\r\n    addIconToComment(smile) {\r\n      var x = smile;\r\n      this.txt += String.fromCodePoint(x[0].emoji);\r\n    },\r\n    openSmiley() {\r\n      // console.log('from sun')\r\n\r\n      this.$emit(\"openSmiley\");\r\n      // this.isSmilyModal = !this.isSmilyModal;\r\n    },\r\n    closeSmiley() {\r\n      this.$emit(\"closeSmiley\", true);\r\n      // this.isSmilyModal  = false;\r\n    },\r\n  },\r\n  computed: {\r\n    inputTxt() {\r\n    //  console.log(\"this.txtx\", this.txt);\r\n    //  this.txt + String.fromCodePoint(this.iconToShow[0].emoji);\r\n\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comment-input.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comment-input.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./comment-input.vue?vue&type=template&id=97859dfe&\"\nimport script from \"./comment-input.vue?vue&type=script&lang=js&\"\nexport * from \"./comment-input.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"delete-modal-container\"},[_c('button',{staticClass:\"delete-post-btn\",on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.removePost()}}},[_vm._v(\" Delete Story \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"delete-modal-container\">\r\n\r\n  <button class=\"delete-post-btn\" @click.self=\"removePost()\" > Delete Story </button> \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\r\n  methods: {\r\n      removePost(){\r\n        this.$emit(\"removepost\")\r\n      }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./delete-modal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./delete-modal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./delete-modal.vue?vue&type=template&id=95c8f806&\"\nimport script from \"./delete-modal.vue?vue&type=script&lang=js&\"\nexport * from \"./delete-modal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"inner-smiley-modal\"},[_c('div',{staticClass:\"most-popular\"},[_vm._v(\"Most Popular\")]),_c('div',{staticClass:\"grid-container\"},[_c('div',{staticClass:\"grid-smiley\"},_vm._l((_vm.smiles),function(s){return _c('div',{key:s._id,staticClass:\"smiley-img-modal-container\"},[_c('img',{staticClass:\"smiley-img-modal\",attrs:{\"src\":s.url,\"alt\":\"smiley image\"},on:{\"click\":function($event){return _vm.addIcon(s._id)}}})])}),0)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n        <div class=\"inner-smiley-modal\">\r\n            <div class=\"most-popular\">Most Popular</div>\r\n            <div class=\"grid-container\">\r\n            <div class=\"grid-smiley\">\r\n                <div class=\"smiley-img-modal-container\" v-for=\"s in smiles\" :key=\"s._id\">\r\n                    <img :src=\"s.url\" class=\"smiley-img-modal\"  @click=\"addIcon(s._id)\"  alt=\"smiley image\"/>\r\n                </div>\r\n            </div>\r\n            </div>\r\n        </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: [\"smiles\"],\r\n  data() {\r\n      return {\r\n        isLiked : false,\r\n        txt : '',\r\n      \r\n    \r\n    };\r\n  },\r\n  created() {\r\n      console.log('load smiles')\r\n  },\r\n  methods: {\r\n    addIcon(id){\r\n      const smile = this.smiles.filter(smile => {\r\n        return (smile._id===id)\r\n      })\r\n        this.$emit(\"smileyToShow\",smile)\r\n\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./smiley-modal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./smiley-modal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./smiley-modal.vue?vue&type=template&id=0171ed10&\"\nimport script from \"./smiley-modal.vue?vue&type=script&lang=js&\"\nexport * from \"./smiley-modal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n<section v-if=\"story\" >\r\n    <div class=\"story-details-content-preview\"  @click.stop=\"closeDeletPost()\"  >\r\n                    <!------ user details ----------->\r\n                        <div class=\"post-details-header-preview\">\r\n                            <div class=\"screen-preview\">\r\n                                <router-link :to=\"`/user/${ story.by._id}`\" > <img :src=\"story.by.imgUrl\" class=\"story-details-img-preview opacity\" /></router-link>\r\n                                <span class=\"post-details-router-name-preview opacity\">\r\n                                    <router-link :to=\"`/user/${ story.by._id}`\" class=\"user-name\" > {{ story.by.fullname }} </router-link>\r\n                                </span>\r\n                            </div>\r\n                            <button class=\"post-details-header-btn-preview opacity\"  @click.stop=\"openDeletPost()\" title=\"delete post\">\r\n                                <svg height=\"16\" viewBox=\"0 0 48 48\" width=\"16\"><circle clip-rule=\"evenodd\" cx=\"8\" cy=\"24\" fill-rule=\"evenodd\" r=\"4.5\"></circle><circle clip-rule=\"evenodd\" cx=\"24\" cy=\"24\" fill-rule=\"evenodd\" r=\"4.5\"></circle><circle clip-rule=\"evenodd\" cx=\"40\" cy=\"24\" fill-rule=\"evenodd\" r=\"4.5\"></circle></svg>\r\n                            </button>\r\n                        </div>\r\n                        <div v-if=\"isDeletePost\">\r\n                            <deleteModal  @removepost=removepost />\r\n                        </div>\r\n        <div class=\"main-comments-preview\">\r\n          <div class=\"\">\r\n                    <div class=\"user-comment-preview\">\r\n                            <!-- <div class=\"screen-preview\"> -->\r\n                              <div class=\"straight-row\">\r\n                                      <router-link :to=\"`/user/${ story.by._id}`\" > <img :src=\"story.by.imgUrl\" class=\"story-details-img-preview-user-comment opacity\" /></router-link>\r\n                                      <span class=\"heavy opacity\">\r\n                                          <router-link :to=\"`/user/${ story.by._id}`\" class=\"user-name\"  > {{ story.by.fullname }} </router-link>\r\n                                      </span> \r\n                                      <span class=\"light\">{{ story.txt }}</span>\r\n                              </div>\r\n                    </div>\r\n                <div class=\"story-row-preview\" >\r\n                        <div class=\"comment-preview\" v-for=\"comment in story.comments\" :key=\"comment.id\">\r\n                            <storyComment :story=\"story\" :comment=\"comment\" :smiles=\"smiles\" :index=\"story.comments.indexOf(comment)\" :key=\"componentKey\" />\r\n                        </div>\r\n                </div>\r\n          </div>\r\n        </div>   \r\n                        <div class=\"line\"></div>\r\n                        <!------- like and save story -------->\r\n                        <actionBar :story=\"getStory\" />\r\n                        <div class=\"position-modal\">\r\n                                  <!-- smily-modal  -->\r\n                                <div class=\"smily-modal-preview\" v-if=\"isSmilyModal\">\r\n                                  <smileyMoldal   :smiles=\"smiles\"  @smileyToShow=addIcon />\r\n                                </div>\r\n                        </div>\r\n          <!--------- separate-line ----------->\r\n          <div class=\"line\"></div>\r\n          <!------------ post-row ---------------->\r\n          <commentInput :storyId=\"story._id\"   @openSmiley=openSmiley   @closeSmiley=closeSmiley  />        \r\n      </div>\r\n \r\n    </section>\r\n</template>\r\n\r\n<script>\r\nimport storyComment from \"@/cmps/story-comment.vue\";\r\nimport actionBar from \"@/cmps/action-bar.vue\";\r\nimport commentInput from \"@/cmps/comment-input.vue\";\r\nimport deleteModal from \"@/cmps/delete-modal.vue\";\r\nimport smileyMoldal from \"@/cmps/smiley-modal.vue\";\r\nimport { eventBus } from \"@/services/event-bus.service.js\";\r\n\r\nexport default {\r\n    props: [\"story\",\"smiles\"],\r\n      data() {\r\n      return {\r\n        isActive: false,\r\n        isLiked : false,\r\n        smile : '',\r\n        isCommntLiked2 : [],\r\n        isModal : false,\r\n        isSmilyModal : false,\r\n        istest : false,\r\n        componentKey : 0,\r\n        isDeletePost : false    \r\n    };\r\n  },\r\n    created() {\r\n    },\r\n    computed: {\r\n      getStory(){\r\n        return this.story\r\n      },\r\n        isCommentLikedCompute : function (commentIdx){\r\n          var theloggedInUser =  this.$store.getters.loggedinUser \r\n        var isLikedBefor = this.story.comments[commentIdx].likedBy.some(user => {\r\n        return (user._id===theloggedInUser._id)\r\n        })\r\n        return isLikedBefor\r\n    },\r\n  },\r\n  methods: {\r\n    removepost(){\r\n        this.isDeletePost=!this.isDeletePost\r\n        this.$emit(\"removepost\")\r\n    },\r\n    openDeletPost(){\r\n      this.isDeletePost = true\r\n    },\r\n    closeDeletPost(){\r\n      this.isDeletePost = false\r\n    },\r\n\r\n    addIcon(smile){\r\n      eventBus.$emit('addIcon',smile)\r\n      this.smile = smile; \r\n    },\r\n    openSmiley(){\r\n      this.isSmilyModal = !this.isSmilyModal;\r\n    },\r\n    closeSmiley(){\r\n      this.isSmilyModal  = false;\r\n    },\r\n    openModal(storyId){\r\n      this.isModal = true;\r\n    },\r\n    closeModal(){\r\n      this.isModal = false\r\n    },\r\n    removeComment(id) {\r\n    },\r\n    myFilter() {\r\n      this.isActive = !this.isActive;\r\n    },\r\n    addLikeToComment(commentIdx){ \r\n      this.isCommntLiked2[1]=!this.isCommntLiked2[1]\r\n      var details = {\r\n          storyId :  this.story._id,\r\n          commentIdx : commentIdx\r\n        }\r\n      this.$store.dispatch({ type: 'addLikeToComment', theDetails : details })\r\n    },\r\n  },\r\n  components:{\r\n    storyComment,\r\n    actionBar,\r\n    commentInput,\r\n    smileyMoldal,\r\n    deleteModal\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./story-preview-modal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./story-preview-modal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./story-preview-modal.vue?vue&type=template&id=29592978&\"\nimport script from \"./story-preview-modal.vue?vue&type=script&lang=js&\"\nexport * from \"./story-preview-modal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n      <div class=\"story-preview-modal\">\r\n        <div class=\"story-preview-modal-content\">\r\n            <div v-if=\"story\" class=\"story-preview-modal-img-container\">\r\n              <img :src=\"story.imgUrl\" class=\"story-preview-img-modal\" />\r\n            </div>\r\n            <!-- <div class=\"story-preview-post-modal\">\r\n            </div> -->\r\n              <storyPreviewModal :story=\"story\" :smiles=\"smiles\" @removepost=\"removepost\" />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { eventBus } from \"@/services/event-bus.service.js\";\r\nimport storyPreviewModal from \"@/cmps/story-preview-modal.vue\";\r\nexport default {\r\n  props: [\"story\", \"smiles\"],\r\n\r\n  methods: {\r\n    removepost() {\r\n      this.$emit(\"removepost\");\r\n    },\r\n  },\r\n  components: {\r\n    storyPreviewModal,\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./story-preview-modal-container.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./story-preview-modal-container.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./story-preview-modal-container.vue?vue&type=template&id=2fc7505f&\"\nimport script from \"./story-preview-modal-container.vue?vue&type=script&lang=js&\"\nexport * from \"./story-preview-modal-container.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <section class=\"story-app-container\" >\r\n        <storyPreviewModalContainer v-if=\"selectedStory\"   :story=\"selectedStoryFromComputed\" :smiles=\"smiliesToShow\" v-on:click=\"close\" @removepost=removepost  />\r\n        <div @click.stop=\"closeModal()\">\r\n              <div class=\"app-center\" v-if=\"storiesToShow\">\r\n                  <story-list :stories=\"storiesToShow\" @storyToModal=storyToModal :smiles=\"smiliesToShow\"/>\r\n              </div>\r\n        </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport { eventBus } from \"@/services/event-bus.service.js\";\r\nimport { storyService } from \"../services/story.service.js\";\r\nimport storyList from \"@/cmps/story-list\";\r\nimport storyPreviewModalContainer from \"@/cmps/story-preview-modal-container\";\r\n\r\nexport default {\r\n      data() {\r\n\r\n    return {\r\n    \r\n      filterBy: null,\r\n      loggedinUser : null,\r\n      // storiesToEdit : storyService.getEmptystory(),\r\n      // storiesToEdit : this.$store.getters.getEmptyStory,\r\n      selectedStory : null,\r\n    //  smiliesToShow :  null , // this.$store.getters.smiley,\r\n      isLiked : false\r\n  // this.emptyStory =  this.$store.getters.getEmptyStory\r\n     \r\n   \r\n    };\r\n  },\r\n async created() {\r\n      eventBus.$on('addLikeFromActionBar',  this.addLikeFromActionBar)\r\n      eventBus.$on('addCommentFromCommentInput', this.addCommentToStory)\r\n      eventBus.$on('addLikeToComment', this.addLikeToComment)\r\n   //   this.smiliesToShow   =  this.$store.getters.smiley\r\n  },\r\n  mounted(){\r\n  },\r\n    beforeDestroy (){\r\n    eventBus.$off('addLikeFromActionBar', this.addLikeFromActionBar)\r\n    eventBus.$off('addCommentFromCommentInput', this.addCommentToStory)\r\n    eventBus.$off('addLikeToComment', this.addLikeToComment)\r\n  },\r\n  destroyed(){\r\n  // this.smiles = storyService.getSmiles()\r\n  //       eventBus.$off('openModalFromActionBar', (id) => {\r\n  //       this.addLikeFromActionBar(id)\r\n  // })\r\n  },\r\n\r\n  computed: {\r\n    selectedStoryFromComputed(){\r\n      if(this.selectedStory)\r\n        return  this.$store.getters.getStoryById(this.selectedStory._id)\r\n  },\r\n    smiliesToShow(){\r\n      return this.$store.getters.smiley\r\n    //    console.log('smily in appp ',  smiley)\r\n      \r\n      },\r\n    storiesToShow() {\r\n      return   this.$store.getters.storiesToShow;\r\n      //const storiesToShow = this.$store.getters.storiesToShow;\r\n      // const storiesToShow = this.$store.getters.getStories;\r\n    //  console.log(\"stories on story App\", storiesToShow);\r\n    //  return storiesToShow;\r\n    },\r\n\r\n  },\r\n    methods: {\r\n    async getSmilies(){\r\n        this.smiliesToShow =  await this.$store.getters.smiley\r\n        console.log('smily in story-app ',  this.smiliesToShow)\r\n      },\r\n    addLikeFromActionBar(id){\r\n      console.log('addLikeFromActionBar in  story-App',id)\r\n      this.$store.dispatch({ type: 'setLikeToStory', storyId: id })\r\n    },\r\n    addCommentToStory(commentStory){\r\n      console.log('addCommentToStory in story-app')\r\n      this.$store.dispatch({ type: 'addCommentToStory', comment: commentStory })\r\n    },\r\n    addLikeToComment(details){\r\n      this.$store.dispatch({ type: 'addLikeToComment', theDetails : details })\r\n    },\r\n    removepost(){\r\n\r\n    },\r\n    close(){\r\n        console.log('close the function !!')\r\n    },\r\n      storyToModal(story){\r\n        //this.selectedStory = null\r\n        this.selectedStory = story\r\n      //  console.log('the story to modal in atory-app', story)\r\n      },\r\n        closeModal(){\r\n          this.selectedStory = null\r\n            eventBus.$emit('closeAddStoryModal')\r\n      }\r\n    },\r\n    components: {\r\n    storyList,\r\n    storyService,\r\n    storyPreviewModalContainer,\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./story-app.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./story-app.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./story-app.vue?vue&type=template&id=2e486dda&\"\nimport script from \"./story-app.vue?vue&type=script&lang=js&\"\nexport * from \"./story-app.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.user)?_c('section',{staticClass:\"main-details \",on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.closeModal()}}},[_c('div',{staticClass:\"profile\",on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.closeModal()}}},[_c('div',{staticClass:\"img-container\"},[(_vm.user.imgUrl&&_vm.isEdit)?_c('img',{staticClass:\"details-img\",attrs:{\"src\":_vm.user.imgUrl,\"alt\":\"user profile button\"}}):_vm._e(),(!_vm.user.imgUrl|| !_vm.isEdit )?_c('img-upload',{on:{\"imgSaved\":_vm.imgUserChoosed}}):_vm._e()],1),_c('div',{staticClass:\"details-container\"},[_c('div',{staticClass:\"profile-description-top\"},[_c('h2',{staticClass:\"profile-description-top-username\"},[_vm._v(_vm._s(_vm.user.username))])]),_c('div',{staticClass:\"followers-num\"},[_c('span',{staticClass:\"profile-count\"},[(_vm.stories)?_c('span',{staticClass:\"profile-count-num\"},[_vm._v(\" \"+_vm._s(_vm.numPosts))]):_vm._e(),_vm._v(\"\\n          posts\\n        \")]),_c('span',{staticClass:\"profile-count-others\"},[_c('span',{staticClass:\"profile-count-num\"},[_vm._v(\" \"+_vm._s(_vm.followersNum))]),_vm._v(\"\\n          followers\\n        \")]),_c('span',{staticClass:\"profile-count-others\"},[_c('span',{staticClass:\"profile-count-num\"},[_vm._v(\" \"+_vm._s(_vm.followingNum))]),_vm._v(\"\\n          following\\n        \")])]),_c('div',{staticClass:\"profile-description-bio\"},[(_vm.isEdit)?[_c('h3',{staticClass:\"h3-mobile\"},[_vm._v(_vm._s(_vm.user.fullname))]),_c('p',{staticClass:\"p-mobile\"},[_vm._v(_vm._s(_vm.user.bio))])]:_c('div',{staticClass:\"user-details-fill\"},[_c('span',{staticClass:\"user-fullname-fill-container\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.fullname),expression:\"user.fullname\"}],staticClass:\"user-fullname-fill\",attrs:{\"type\":\"text\",\"placeholder\":\"full name\"},domProps:{\"value\":(_vm.user.fullname)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"fullname\", $event.target.value)}}})]),_c('span',{staticClass:\"user-bio-fill-container\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:( _vm.user.bio),expression:\" user.bio\"}],staticClass:\"user-bio-fill\",attrs:{\"name\":\"\",\"id\":\"\",\"cols\":\"30\",\"rows\":\"10\",\"placeholder\":\"your bio\"},domProps:{\"value\":( _vm.user.bio)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"bio\", $event.target.value)}}})])])],2)]),_c('div',{staticClass:\"edit-user-details-btn\"},[_c('button',{on:{\"click\":function($event){$event.stopPropagation();return _vm.editUserDetails()}}},[_c('svg',{staticClass:\"_8-yf5 \",attrs:{\"aria-label\":\"Options\",\"fill\":\"#262626\",\"height\":\"24\",\"viewBox\":\"0 0 48 48\",\"width\":\"24\"}},[_c('path',{attrs:{\"clip-rule\":\"evenodd\",\"d\":\"M46.7 20.6l-2.1-1.1c-.4-.2-.7-.5-.8-1-.5-1.6-1.1-3.2-1.9-4.7-.2-.4-.3-.8-.1-1.2l.8-2.3c.2-.5 0-1.1-.4-1.5l-2.9-2.9c-.4-.4-1-.5-1.5-.4l-2.3.8c-.4.1-.8.1-1.2-.1-1.4-.8-3-1.5-4.6-1.9-.4-.1-.8-.4-1-.8l-1.1-2.2c-.3-.5-.8-.8-1.3-.8h-4.1c-.6 0-1.1.3-1.3.8l-1.1 2.2c-.2.4-.5.7-1 .8-1.6.5-3.2 1.1-4.6 1.9-.4.2-.8.3-1.2.1l-2.3-.8c-.5-.2-1.1 0-1.5.4L5.9 8.8c-.4.4-.5 1-.4 1.5l.8 2.3c.1.4.1.8-.1 1.2-.8 1.5-1.5 3-1.9 4.7-.1.4-.4.8-.8 1l-2.1 1.1c-.5.3-.8.8-.8 1.3V26c0 .6.3 1.1.8 1.3l2.1 1.1c.4.2.7.5.8 1 .5 1.6 1.1 3.2 1.9 4.7.2.4.3.8.1 1.2l-.8 2.3c-.2.5 0 1.1.4 1.5L8.8 42c.4.4 1 .5 1.5.4l2.3-.8c.4-.1.8-.1 1.2.1 1.4.8 3 1.5 4.6 1.9.4.1.8.4 1 .8l1.1 2.2c.3.5.8.8 1.3.8h4.1c.6 0 1.1-.3 1.3-.8l1.1-2.2c.2-.4.5-.7 1-.8 1.6-.5 3.2-1.1 4.6-1.9.4-.2.8-.3 1.2-.1l2.3.8c.5.2 1.1 0 1.5-.4l2.9-2.9c.4-.4.5-1 .4-1.5l-.8-2.3c-.1-.4-.1-.8.1-1.2.8-1.5 1.5-3 1.9-4.7.1-.4.4-.8.8-1l2.1-1.1c.5-.3.8-.8.8-1.3v-4.1c.4-.5.1-1.1-.4-1.3zM24 41.5c-9.7 0-17.5-7.8-17.5-17.5S14.3 6.5 24 6.5 41.5 14.3 41.5 24 33.7 41.5 24 41.5z\",\"fill-rule\":\"evenodd\"}})])]),(_vm.isSaved)?_c('button',{staticClass:\"save-user-details opacity\",on:{\"click\":function($event){$event.stopPropagation();return _vm.saveUserDetails()}}},[_vm._v(\" Save\")]):_vm._e()])]),_c('span',{staticClass:\"profile-tabs-tab\"},[_c('svg',{staticClass:\"svg-test\",attrs:{\"height\":\"12\",\"viewBox\":\"0 0 48 48\",\"width\":\"12\"}},[_c('path',{attrs:{\"clip-rule\":\"evenodd\",\"d\":\"M45 1.5H3c-.8 0-1.5.7-1.5 1.5v42c0 .8.7 1.5 1.5 1.5h42c.8 0 1.5-.7 1.5-1.5V3c0-.8-.7-1.5-1.5-1.5zm-40.5 3h11v11h-11v-11zm0 14h11v11h-11v-11zm11 25h-11v-11h11v11zm14 0h-11v-11h11v11zm0-14h-11v-11h11v11zm0-14h-11v-11h11v11zm14 28h-11v-11h11v11zm0-14h-11v-11h11v11zm0-14h-11v-11h11v11z\",\"fill-rule\":\"evenodd\"}})]),_vm._v(\" Posts \")]),(_vm.storiesComputed)?_c('div',{staticClass:\"profile-posts\",on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.closeModal()}}},_vm._l((_vm.storiesComputed),function(story){return _c('div',{key:story._id,staticClass:\"profile-posts-item\"},[_c('img',{staticClass:\"details-stories-img\",attrs:{\"src\":story.imgUrl,\"alt\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.openModal(story._id)}}})])}),0):_vm._e(),(_vm.isModal)?_c('div',{staticClass:\"details-story-modal\"},[_c('storyPreviewModalContainer',{attrs:{\"story\":_vm.storyToShowFromComputed,\"smiles\":_vm.smiliesToShow},on:{\"removepost\":_vm.removepost}})],1):_vm._e()]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.myImage)?_c('img',{staticClass:\"image-new-story\",attrs:{\"src\":_vm.myImage,\"width\":\"\",\"height\":\"\"}}):_vm._e(),_c('div',{staticClass:\"flex\"},[(!_vm.isLoading&&!_vm.myImage)?_c('label',{attrs:{\"for\":\"imgUploader\"},on:{\"drop\":function($event){$event.preventDefault();return _vm.handleFile.apply(null, arguments)},\"dragover\":function($event){$event.preventDefault();return _vm.dragOver.apply(null, arguments)},\"dragleave\":function($event){_vm.isDragOver = false}}},[_c('img',{staticClass:\"input-img\",attrs:{\"src\":\"https://res.cloudinary.com/omerphoto/image/upload/v1618335628/upload3_te8f2v.png\"}})]):_vm._e(),(_vm.isLoading)?_c('img',{staticClass:\"uploadImg-user-details\",attrs:{\"alt\":\"\",\"id\":\"\",\"role\":\"presentation\",\"src\":\"https://assets1.ello.co/uploads/asset/attachment/2121938/ello-optimized-c1c988e6.gif\"}}):_vm._e(),(!_vm.myImage)?_c('input',{staticClass:\"file-btn round\",attrs:{\"id\":\"imgUploader\",\"type\":\"file\",\"accept\":\"image/*\"},on:{\"change\":function($event){return _vm.onUploadImg($event)}}}):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from 'axios';\n\nexport const uploadImg2 = async (ev) => {\n    // Defining our variables\n    const UPLOAD_PRESET = 'cloudphoto' // Insert yours\n    const CLOUD_NAME = 'omerphoto' // Insert yours\n    const UPLOAD_URL = `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/image/upload`\n    const FORM_DATA = new FormData();\n    // Building the request body\n    FORM_DATA.append('file', ev.target.files[0])\n    FORM_DATA.append('upload_preset', UPLOAD_PRESET)\n    FORM_DATA.append('public_id', `Instagram/${ev.target.files[0].name}`)\n    // Sending a post method request to Cloudniarys' API\n    try {\n        const res = await axios.post(UPLOAD_URL, FORM_DATA)\n        return res.data;\n    } catch (err) {\n        console.error('ERROR!', err)\n    }\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// FETCH\n// export const uploadImg = async (ev) =>{\n//     // Defining our variables\n//     const UPLOAD_PRESET = '' // Insert yours\n//     const CLOUD_NAME = '' // Insert yours\n//     const UPLOAD_URL = `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/image/upload`\n//     const FORM_DATA = new FormData();\n//     // Building the request body\n//     FORM_DATA.append('file', ev.target.files[0])\n//     FORM_DATA.append('upload_preset',UPLOAD_PRESET)\n//     // Sending a post method request to Cloudniarys' API\n//     try {\n//         const res = await fetch(UPLOAD_URL, {\n//             method: 'POST',\n//             body: FORM_DATA\n//         })\n//         return res.json();\n//     } catch(err) {\n//         console.error('ERROR!', err)\n//     }\n// }","import axios from 'axios';\n\n\n\n\n\n// AXIOS\nexport const uploadImg = async (file) =>{\n    // Defining our variables\n    const UPLOAD_PRESET = 'cloudphoto' // Insert yours\n    const CLOUD_NAME = 'omerphoto' // Insert yours\n    const UPLOAD_URL = `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/image/upload`\n    const FORM_DATA = new FormData();\n    // Building the request body\n    FORM_DATA.append('file', file)\n    FORM_DATA.append('upload_preset',UPLOAD_PRESET)\n    console.log('uploadImg -> FORM_DATA', FORM_DATA)\n    // Sending a post method request to Cloudniarys' API\n    try {\n        const res = await axios.post(UPLOAD_URL, FORM_DATA)\n        return res.data;\n    } catch(err) {\n        console.error('ERROR!', err)\n    }\n}\n\n// export const uploadImg = async (ev) => {\n//     // Defining our variables\n//     const UPLOAD_PRESET = 'cloudphoto' // Insert yours\n//     const CLOUD_NAME = 'omerphoto' // Insert yours\n//     const UPLOAD_URL = `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/image/upload`\n//     const FORM_DATA = new FormData();\n//     // Building the request body\n//     FORM_DATA.append('file', ev.target.files[0])\n//     FORM_DATA.append('upload_preset', UPLOAD_PRESET)\n//     // Sending a post method request to Cloudniarys' API\n//     try {\n//          const res = await axios.post(UPLOAD_URL, FORM_DATA)\n//          return res.data;\n//     } catch (err) {\n//         console.error('ERROR!', err)\n//     }\n// }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// FETCH\n// export const uploadImg = async (ev) =>{\n//     // Defining our variables\n//     const UPLOAD_PRESET = '' // Insert yours\n//     const CLOUD_NAME = '' // Insert yours\n//     const UPLOAD_URL = `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/image/upload`\n//     const FORM_DATA = new FormData();\n//     // Building the request body\n//     FORM_DATA.append('file', ev.target.files[0])\n//     FORM_DATA.append('upload_preset',UPLOAD_PRESET)\n//     // Sending a post method request to Cloudniarys' API\n//     try {\n//         const res = await fetch(UPLOAD_URL, {\n//             method: 'POST',\n//             body: FORM_DATA\n//         })\n//         return res.json();\n//     } catch(err) {\n//         console.error('ERROR!', err)\n//     }\n// }","<template>\r\n<div>\r\n  <img  class=\"image-new-story\" v-if=\"myImage\" :src=\"myImage\" width=\"\" height=\"\">\r\n              <div class=\"flex\">\r\n                    <label v-if=\"!isLoading&&!myImage\" for=\"imgUploader\"  @drop.prevent=\"handleFile\" @dragover.prevent=\"dragOver\"  @dragleave=\"isDragOver = false\"  >\r\n                        <img  class=\"input-img\"  src=\"https://res.cloudinary.com/omerphoto/image/upload/v1618335628/upload3_te8f2v.png\"  >\r\n                    </label>\r\n\r\n\r\n                      <!-- <img alt=\"\"   v-if=\"isLoading\"  class=\"input-img\" importance=\"auto\" loading=\"auto\" src=\"https://i.pinimg.com/originals/c7/67/34/c76734f9045eac95df71b9816ac53b08.gif\"> -->\r\n                      <!-- <img    v-if=\"isLoading\"  alt=\"\" id=\"\" class=\"uploadImg-user-details\"  role=\"presentation\" src=\"https://assets2.ello.co/uploads/asset/attachment/2121936/ello-optimized-71aceb91.gif\"> -->\r\n                      <img  v-if=\"isLoading\"  alt=\"\" id=\"\" class=\"uploadImg-user-details\"  role=\"presentation\" src=\"https://assets1.ello.co/uploads/asset/attachment/2121938/ello-optimized-c1c988e6.gif\">\r\n\r\n                      <!-- <img   v-if=\"isLoading\" class=\"\"  src=\"https://motiongraphicsphoebe.files.wordpress.com/2018/10/animated-loading-c397-1.gif\"> -->\r\n                      <!-- <img   v-if=\"isLoading\" class=\"input-img\"  src=\"https://cdn.dribbble.com/users/1186261/screenshots/3718681/_______.gif\"> -->\r\n\r\n                  \r\n                 <!-- <img  class=\"input-img\"  src=\"https://res.cloudinary.com/omerphoto/image/upload/v1617824183/iconfinder_file_add_48761_tfhfua.png\" width=\"\" height=\"\"> -->\r\n                 <!-- <img  class=\"input-img\"  src=\"https://res.cloudinary.com/omerphoto/image/upload/v1618335628/upload3_te8f2v.png\"> -->\r\n                <input v-if=\"!myImage\"  id=\"imgUploader\" class=\"file-btn round\"  type=\"file\" accept=\"image/*\" @change=\"onUploadImg($event)\" >\r\n              </div>\r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport { uploadImg2 } from \"@/services/img-upload2.service.js\";\r\nimport { uploadImg } from \"@/services/img-upload.service.js\";\r\nexport default {\r\n     data() {\r\n        return {\r\n                txt :  null,\r\n                myImage :  null,\r\n                isSmilyModal : false,\r\n                isLoading: false\r\n\r\n        }\r\n      },\r\n  methods: {\r\n    dragOver(ev) {\r\n      this.isDragOver = true;\r\n    },\r\n    handleFile(ev) {\r\n      let file;\r\n      if (ev.type === \"change\") file = ev.target.files[0];\r\n      else if (ev.type === \"drop\") file = ev.dataTransfer.files[0];\r\n      this.onUploadImg(file);\r\n    },\r\n\r\n    async onUploadImg(file) {\r\n      this.isLoading = true;\r\n     // this.isDragOver = false;\r\n      const res = await uploadImg2(file);\r\n      const uploadedImg = res.url;\r\n      this.$emit(\"imgSaved\", uploadedImg);\r\n      //console.log('the img from service : ',uploadedImg)\r\n      this.isLoading = false;\r\n    },\r\n    // async uploadImage(ev) {\r\n    //   this.isLoading = true\r\n    //   const res = await uploadImg2(ev)\r\n    //   this.myImage = res.url\r\n    //   console.log('onUploadImg -> res', res)\r\n    //   this.isLoading = false\r\n    // },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.loader {\r\n  height: 150px;\r\n}\r\n\r\nlabel img {\r\n  height: 100px;\r\n  cursor: pointer;\r\n  transition: height 0.6s;\r\n}\r\n\r\ninput {\r\n  width: 0;\r\n  height: 0;\r\n}\r\n.drag {\r\n  color: grey;\r\n  display: inline-block;\r\n  padding: 30px 5px;\r\n  width: 220px;\r\n  border: 1px dashed gray;\r\n  border-radius: 8px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./img-upload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./img-upload.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./img-upload.vue?vue&type=template&id=e2614454&\"\nimport script from \"./img-upload.vue?vue&type=script&lang=js&\"\nexport * from \"./img-upload.vue?vue&type=script&lang=js&\"\nimport style0 from \"./img-upload.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <section class=\"main-details \" v-if=\"user\" @click.self=\"closeModal()\"  >\r\n    <div class=\"profile\" @click.self=\"closeModal()\">\r\n      <div class=\"img-container\">\r\n        <img  v-if=\"user.imgUrl&&isEdit\" :src=\"user.imgUrl\" class=\"details-img\"  alt=\"user profile button\"/>\r\n        <img-upload @imgSaved=\"imgUserChoosed\" v-if=\"!user.imgUrl|| !isEdit \" />\r\n      </div>\r\n      <div class=\"details-container\">\r\n        <div class=\"profile-description-top\">\r\n          <h2 class=\"profile-description-top-username\">{{ user.username }}</h2>\r\n        </div>\r\n\r\n        <div class=\"followers-num\">\r\n          <span class=\"profile-count\">\r\n            <span class=\"profile-count-num\" v-if=\"stories\"> {{ numPosts }}</span>\r\n            posts\r\n          </span>\r\n\r\n          <span class=\"profile-count-others\">\r\n            <span class=\"profile-count-num\"> {{ followersNum }}</span>\r\n            followers\r\n          </span>\r\n\r\n          <span class=\"profile-count-others\">\r\n            <span class=\"profile-count-num\"> {{ followingNum }}</span>\r\n            following\r\n          </span>\r\n        </div>\r\n\r\n        <div class=\"profile-description-bio\">\r\n          <template v-if=\"isEdit\">\r\n            <h3 class=\"h3-mobile\">{{ user.fullname }}</h3>\r\n            <p class=\"p-mobile\" >{{ user.bio }}</p>\r\n          </template>\r\n          <div  v-else class=\"user-details-fill\" >\r\n            <span class=\"user-fullname-fill-container\"><input type=\"text\" class=\"user-fullname-fill\" placeholder=\"full name\" v-model = \"user.fullname\"> </span>\r\n            <span class=\"user-bio-fill-container\" > <textarea name=\"\" id=\"\"  class=\"user-bio-fill\" cols=\"30\" rows=\"10\" placeholder=\"your bio\" v-model = \" user.bio\"></textarea></span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"edit-user-details-btn\"  >\r\n        <button  @click.stop=\"editUserDetails()\" >\r\n          <svg aria-label=\"Options\" class=\"_8-yf5 \" fill=\"#262626\" height=\"24\" viewBox=\"0 0 48 48\" width=\"24\"><path clip-rule=\"evenodd\" d=\"M46.7 20.6l-2.1-1.1c-.4-.2-.7-.5-.8-1-.5-1.6-1.1-3.2-1.9-4.7-.2-.4-.3-.8-.1-1.2l.8-2.3c.2-.5 0-1.1-.4-1.5l-2.9-2.9c-.4-.4-1-.5-1.5-.4l-2.3.8c-.4.1-.8.1-1.2-.1-1.4-.8-3-1.5-4.6-1.9-.4-.1-.8-.4-1-.8l-1.1-2.2c-.3-.5-.8-.8-1.3-.8h-4.1c-.6 0-1.1.3-1.3.8l-1.1 2.2c-.2.4-.5.7-1 .8-1.6.5-3.2 1.1-4.6 1.9-.4.2-.8.3-1.2.1l-2.3-.8c-.5-.2-1.1 0-1.5.4L5.9 8.8c-.4.4-.5 1-.4 1.5l.8 2.3c.1.4.1.8-.1 1.2-.8 1.5-1.5 3-1.9 4.7-.1.4-.4.8-.8 1l-2.1 1.1c-.5.3-.8.8-.8 1.3V26c0 .6.3 1.1.8 1.3l2.1 1.1c.4.2.7.5.8 1 .5 1.6 1.1 3.2 1.9 4.7.2.4.3.8.1 1.2l-.8 2.3c-.2.5 0 1.1.4 1.5L8.8 42c.4.4 1 .5 1.5.4l2.3-.8c.4-.1.8-.1 1.2.1 1.4.8 3 1.5 4.6 1.9.4.1.8.4 1 .8l1.1 2.2c.3.5.8.8 1.3.8h4.1c.6 0 1.1-.3 1.3-.8l1.1-2.2c.2-.4.5-.7 1-.8 1.6-.5 3.2-1.1 4.6-1.9.4-.2.8-.3 1.2-.1l2.3.8c.5.2 1.1 0 1.5-.4l2.9-2.9c.4-.4.5-1 .4-1.5l-.8-2.3c-.1-.4-.1-.8.1-1.2.8-1.5 1.5-3 1.9-4.7.1-.4.4-.8.8-1l2.1-1.1c.5-.3.8-.8.8-1.3v-4.1c.4-.5.1-1.1-.4-1.3zM24 41.5c-9.7 0-17.5-7.8-17.5-17.5S14.3 6.5 24 6.5 41.5 14.3 41.5 24 33.7 41.5 24 41.5z\" fill-rule=\"evenodd\"></path></svg>\r\n        </button>\r\n        <button class=\"save-user-details opacity\"  @click.stop=\"saveUserDetails()\" v-if=\"isSaved\"  > Save</button>\r\n      </div>\r\n    </div>\r\n    <span class=\"profile-tabs-tab\"><svg height=\"12\" viewBox=\"0 0 48 48\" class=\"svg-test\" width=\"12\"><path clip-rule=\"evenodd\" d=\"M45 1.5H3c-.8 0-1.5.7-1.5 1.5v42c0 .8.7 1.5 1.5 1.5h42c.8 0 1.5-.7 1.5-1.5V3c0-.8-.7-1.5-1.5-1.5zm-40.5 3h11v11h-11v-11zm0 14h11v11h-11v-11zm11 25h-11v-11h11v11zm14 0h-11v-11h11v11zm0-14h-11v-11h11v11zm0-14h-11v-11h11v11zm14 28h-11v-11h11v11zm0-14h-11v-11h11v11zm0-14h-11v-11h11v11z\" fill-rule=\"evenodd\"></path></svg> Posts </span>\r\n    <div class=\"profile-posts\"  v-if=\"storiesComputed\" @click.self=\"closeModal()\">\r\n      <div class=\"profile-posts-item\" v-for=\"story in storiesComputed\" :key=\"story._id\"  >\r\n        <img :src=\"story.imgUrl\"  class=\"details-stories-img\" @click.stop=\"openModal(story._id)\" alt=\"\" />\r\n      </div>\r\n    </div>\r\n    <div class=\"details-story-modal\" v-if=\"isModal\">\r\n      <storyPreviewModalContainer :story=\"storyToShowFromComputed\" :smiles=\"smiliesToShow\" @removepost=removepost />\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport { eventBus } from \"@/services/event-bus.service.js\";\r\nimport { storyService } from \"../services/story.service.js\";\r\nimport storyPreviewModal from \"@/cmps/story-preview-modal.vue\";\r\nimport storyPreviewModalContainer from \"@/cmps/story-preview-modal-container\";\r\nimport imgUpload from \"@/cmps/img-upload\";\r\nexport default {\r\n  name: \"user-details\",\r\n  data() {\r\n    return {\r\n      userId: null,\r\n      user: null,\r\n      stories: null,\r\n      isModal: false,\r\n      storyToShow: null,\r\n      txt : '',\r\n      isLiked : false,\r\n      isEdit : true,\r\n      isSaved : false\r\n    };\r\n  },\r\n  // async created() {\r\n  // },\r\n  watch: {},\r\n async created() {\r\n      await this.$store.dispatch({ type: \"loadStories\" });\r\n      await this.$store.dispatch({ type: \"loadUsers\" });\r\n      this.userId = this.$route.params.id;\r\n      const objUser = this.$store.getters.getUserById(this.userId);\r\n      console.log('objUser from store on user-details load  : ',objUser)\r\n      this.user = JSON.parse(JSON.stringify(objUser))\r\n      this.stories =  this.$store.getters.getStoryByUserId(this.userId);\r\n      eventBus.$on(\"closeDetailsModal\", () => {\r\n        this.closeModal();\r\n    });\r\n    eventBus.$on('addLikeFromActionBar', this.addLike)\r\n    eventBus.$on('addCommentFromCommentInput', this.addCommentToStory)\r\n    eventBus.$on('addLikeToComment', this.addLikeToComment)\r\n  },\r\n  mounted() {\r\n  },\r\n  beforeDestroy (){\r\n    eventBus.$off('addLikeFromActionBar', this.addLike)\r\n    eventBus.$off('addCommentFromCommentInput', this.addCommentToStory)\r\n    eventBus.$off('addLikeToComment', this.addLikeToComment)\r\n  },\r\n  destroyed(){\r\n    eventBus.$off(\"closeDetailsModal\", () => {\r\n      this.closeModal();\r\n    });\r\n  },\r\n  methods: {\r\n    saveUserDetails(){\r\n      this.$store.dispatch({ type: 'updateUser', user : this.user }) \r\n      this.isSaved = !this.isSaved\r\n      this.isEdit = !this.isEdit\r\n    },\r\n    editUserDetails(){\r\n      this.isEdit = !this.isEdit\r\n      this.isSaved = !this.isSaved\r\n    },\r\n    imgUserChoosed(uploadedImg){\r\n      this.user.imgUrl = uploadedImg  \r\n      this.isEdit = !this.isEdit\r\n    },\r\n    addLike(id){\r\n      this.$store.dispatch({ type: 'setLikeToStory', storyId: id })\r\n    },\r\n    addCommentToStory(commentStory){\r\n      this.$store.dispatch({ type: 'addCommentToStory', comment: commentStory })\r\n    },\r\n    addLikeToComment(details){\r\n      this.$store.dispatch({ type: 'addLikeToComment', theDetails : details })\r\n    },\r\n\r\n    removepost(){\r\n    //  console.log('remove post on user-datails')\r\n        this.$store.dispatch({ type: 'removeStory', storyToRemoveId: this.storyToShow._id })\r\n        this.isModal = false;\r\n\r\n    },\r\n    openModal(storyId) {\r\n      this.stories =  this.$store.getters.getStoryByUserId(this.userId);\r\n      const storyToShow = this.stories.filter((story) => {\r\n        if (story._id === storyId) {\r\n          return story;\r\n        }\r\n\r\n      });\r\n        console.log(\" no : \")\r\n      this.storyToShow = storyToShow[0];\r\n      this.isModal = true;\r\n    },\r\n    closeModal() {\r\n      this.isModal = false;\r\n      eventBus.$emit(\"closeAddStoryModal\");\r\n    },\r\n  },\r\n  computed: {\r\n    storiesComputed(){\r\n        return this.$store.getters.getStoryByUserId(this.userId);   \r\n    },\r\n      smiliesToShow (){\r\n        return this.$store.getters.smiley\r\n    },\r\n    isLikedComputed(){\r\n            this.isLiked = !this.isLiked\r\n    },\r\n    storyToShowFromComputed(){\r\n      if(this.storyToShow){\r\n        const test =  this.$store.getters.getStoryById(this.storyToShow._id)\r\n        return test\r\n      }\r\n    },\r\n    followersNum() {\r\n      return this.user.followers.length;\r\n    },\r\n    followingNum() {\r\n      return this.user.following.length;\r\n    },\r\n    numPosts() {\r\n      return this.stories.length;\r\n    },\r\n    getUserFromStore(){\r\n      this.user = this.$store.getters.getUserById(this.user._id)\r\n    }\r\n  },\r\n  components: {\r\n    storyPreviewModal,\r\n    storyPreviewModalContainer,\r\n    imgUpload\r\n  },\r\n};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user-details.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user-details.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./user-details.vue?vue&type=template&id=1e9b8461&\"\nimport script from \"./user-details.vue?vue&type=script&lang=js&\"\nexport * from \"./user-details.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"about-page\"},[_c('div',{staticClass:\"gif-container\"},[_c('img',{staticClass:\"gif\",attrs:{\"src\":require(\"@/assets/img/myinstagram-gif.gif\"),\"alt\":\"\"}}),_c('div',{staticClass:\"welcome-txt\"},[_vm._v(\"\\n                Build from scratch with Vue, Vuex \"),_c('br'),_c('br'),_vm._v(\"\\n                Node.js and MongoDB, \"),_c('br'),_c('br')])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"about-page\">\n<div class=\"gif-container\">\n    <img src=\"@/assets/img/myinstagram-gif.gif\"  class=\"gif\" alt=\"\">\n    <div class=\"welcome-txt\">\n                Build from scratch with Vue, Vuex <br/>\n                <br/>\n                Node.js and MongoDB, <br/>\n                <br/>\n                \n    </div>\n</div>\n\n  </div>\n</template>\n\n<script>\nexport default {\n\n}\n</script>\n\n<style>\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./story-about.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./story-about.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./story-about.vue?vue&type=template&id=2d56167a&\"\nimport script from \"./story-about.vue?vue&type=script&lang=js&\"\nexport * from \"./story-about.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport Router from 'vue-router'\nimport loginSignup from './views/login-signup.vue'\nimport storyApp from './views/story-app.vue'\nimport userDetails from './views/user-details.vue'\nimport storyAbout from './views/story-about.vue'\n// import userFilter from \"@/cmps/user-filter.vue\";\n// import userApp from './views/user-app.vue'\n\n\nVue.use(Router)\n\nexport const router = new Router({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes: [\n    {\n      path: '/login',\n      name: 'loginSignup',\n      component: loginSignup\n    },\n    {\n      path: '/',\n      name: 'storyApp',\n      component: storyApp,\n    },\n\n    {\n      path: '/user/:id',\n      name: 'user-details',\n      component: userDetails\n    },\n    {\n      path: '/about',\n      name: 'story-about',\n      component: storyAbout\n    }\n  ]\n})\n","import Axios from 'axios'\r\nimport {router} from '@/router'\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? '/api/'\r\n    : '//localhost:3030/api/'\r\n\r\n\r\nvar axios = Axios.create({\r\n    withCredentials: true\r\n})\r\n\r\nexport const httpService = {\r\n    get(endpoint, data) {\r\n        return ajax(endpoint, 'GET', data)\r\n    },\r\n    post(endpoint, data) {\r\n        return ajax(endpoint, 'POST', data)\r\n    },\r\n    put(endpoint, data) {\r\n        return ajax(endpoint, 'PUT', data)\r\n    },\r\n    delete(endpoint, data) {\r\n        return ajax(endpoint, 'DELETE', data)\r\n    }\r\n}\r\n\r\nasync function ajax(endpoint, method = 'GET', data = null) {\r\n    try {\r\n        const res = await axios({\r\n            url: `${BASE_URL}${endpoint}`,\r\n            method,\r\n            data,\r\n            params: (method === 'GET') ? data : null\r\n        })\r\n        return res.data\r\n    } catch (err) {\r\n        console.log(`Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data: ${data}`)\r\n        console.dir(err)\r\n        if (err.response && err.response.status === 401) {\r\n            // Depends on routing startegy - hash or history\r\n            // window.location.assign('/#/login')\r\n            // window.location.assign('/login')\r\n            router.push('/login')\r\n        }\r\n        throw err\r\n    }\r\n}","import { storageService } from './async-storage.service'\r\nimport { utilService } from \"./util.service.js\";\r\nimport { httpService } from './http.service'\r\n\r\n\r\nconst gUsers = require('../data/user.json');\r\nconst KEY = 'userDB';\r\nconst SCORE_FOR_REVIEW = 10\r\n\r\nexport const userService = {\r\n    login,\r\n    logout,\r\n    signup,\r\n    getUsers,\r\n    getById,\r\n    remove,\r\n    update,\r\n    getLoggedinUser,\r\n    getLoggedinUsers,\r\n    increaseScore,\r\n    getEmpthyUser,\r\n    saveLocalUsers,\r\n    saveChatMessages,\r\n    getChatMessages,\r\n    saveAllUsers,\r\n    getAllUsers\r\n}\r\n\r\nwindow.userService = userService\r\n\r\n\r\nfunction getUsers() {\r\n    return httpService.get(`user`)\r\n    // return storageService.query('user')\r\n}\r\n\r\nfunction getById(userId) {\r\n    return httpService.get(`user/${userId}`)\r\n    //**** only Front : **/\r\n    // return storageService.get(KEY, userId)\r\n}\r\nfunction remove(userId) {\r\n    return httpService.delete(`user/${userId}`)\r\n    //**** only Front : **/\r\n    // return storageService.remove(KEY, userId)\r\n}\r\n\r\nasync function update(user) {\r\n    const updatedUser = await httpService.put(`user/${user._id}`, user)\r\n    console.log('updatedUser on function update :',updatedUser)\r\n    return  _saveLocalUser(updatedUser)\r\n    //**** only Front : **/\r\n   // return storageService.put('user', user)\r\n    // user = await httpService.put(`user/${user._id}`, user)\r\n    // Handle case in which admin updates other user's details\r\n    //  if (getLoggedinUser()._id === user._id) _saveLocalUser(user)\r\n}\r\n\r\nasync function increaseScore(by = SCORE_FOR_REVIEW) {\r\n    const user = getLoggedinUser()\r\n    user.score = user.score + by || by\r\n    await update(user)\r\n    return user.score\r\n}\r\n\r\nasync function login(userCred) {\r\n    const user = await httpService.post('auth/login', userCred)\r\n    if (user) return _saveLocalUser(user)\r\n\r\n    //**** only Front : **/\r\n    // const users = await storageService.query(KEY)\r\n    // const user = users.find(user => user.username === userCred.username)\r\n    // return _saveLocalUser(user)\r\n   // _saveLocalUsers(user)\r\n}\r\nasync function signup(userCred) {\r\n    const newUser = getEmpthyUser();\r\n    newUser.fullname = userCred.fullname\r\n    newUser.username = userCred.username\r\n    newUser.password = userCred.password\r\n    const user = await httpService.post('auth/signup', newUser)\r\n    return _saveLocalUser(user)\r\n     // const user = await storageService.post(KEY, newUser)\r\n    //_saveLocalUsers(user)\r\n}\r\nasync function logout() {\r\n    return await httpService.post('auth/logout')\r\n    // sessionStorage.clear()\r\n}\r\nfunction saveChatMessages(msg){\r\n    const allMessages =  JSON.parse(localStorage.getItem('chatMessages') || 'null')\r\n    console.log('allMessages in user service',allMessages)\r\n    if(allMessages){\r\n        console.log('yes')\r\n        console.log('msg in user service',msg)\r\n        allMessages.push(msg)\r\n        localStorage.setItem('chatMessages', JSON.stringify(allMessages))\r\n        console.log('allMessages after push in user service',allMessages)\r\n        return allMessages\r\n    }else{\r\n        console.log('no')\r\n        const messages=[]\r\n        messages.push(msg)\r\n        localStorage.setItem('chatMessages', JSON.stringify(messages))\r\n        return messages\r\n    }\r\n}\r\nfunction getChatMessages(){\r\n    return JSON.parse(localStorage.getItem('chatMessages'))\r\n}\r\nfunction _saveLocalUser(user) {\r\n    sessionStorage.setItem('loggedinUser', JSON.stringify(user))\r\n    return user\r\n}\r\n\r\nfunction saveAllUsers(allUsers) {\r\n    sessionStorage.setItem('allLogedInUsers', JSON.stringify(allUsers))\r\n    console.log('aaaaaaaaaaaaaaaaaaaaaaaaaaaaa')\r\n    // const allUsers = JSON.parse(sessionStorage.getItem('loggedinUsers') || 'null')\r\n    // if(allUsers){\r\n    // }\r\n}\r\n\r\nfunction getAllUsers(){\r\n    return  JSON.parse(sessionStorage.getItem('allLogedInUsers') || 'null')\r\n}\r\n\r\nfunction saveLocalUsers(user) {\r\n    const allUsers = JSON.parse(sessionStorage.getItem('loggedinUsers') || 'null')\r\n    if(allUsers){\r\n        const check = allUsers.some((value) => value._id === user._id) \r\n        if(!check){\r\n            allUsers.push(user)\r\n        }\r\n        sessionStorage.setItem('loggedinUsers', JSON.stringify(allUsers))\r\n        return allUsers\r\n    }else{\r\n        const loginusers=[]\r\n        loginusers.push(user)\r\n        sessionStorage.setItem('loggedinUsers', JSON.stringify(loginusers))\r\n        return loginusers\r\n    }\r\n    // const filteredUsers = allUsers.filter((value,index) => allUsers.findIndex((val)=> {\r\n    //   val._id  === value._id   }) === index\r\n    // )\r\n}\r\nfunction getLoggedinUsers(){\r\n    return  JSON.parse(sessionStorage.getItem('loggedinUsers') || 'null')\r\n}\r\n\r\n\r\n// if the program have an 'undefined' value for the user in sessionStorage, the program does not load\r\nfunction getLoggedinUser() {\r\n    return JSON.parse(sessionStorage.getItem('loggedinUser') || 'null')\r\n}\r\n\r\nfunction getGuest(){\r\n    return  {\r\n            \"_id\" : \"70981b985a3a1a1820e6bb4b\",\r\n            \"username\": \" Guest \",\r\n            \"password\": \"$2b$10$P2ha9WUeOn1jH.jQo/EvbOMBNipzSUSE25c/ramUHhJfo4dCdyjom\",\r\n            \"fullname\": \"Guest \",\r\n            \"bio\" : \"Public Figure\",\r\n            \"imgUrl\": \"https://res.cloudinary.com/omerphoto/image/upload/v1620580104/Instagram/user11_fihlnd.jpg\",\r\n            \"createdAt\": 123543452,\r\n            \"following\": [ \r\n            ],\r\n            \"followers\": [\r\n            ],\r\n            \"savedPostIds\": []\r\n    }\r\n\r\n}\r\n\r\nfunction getEmpthyUser(){\r\n    return   {\r\n        fullname : \"\",\r\n        username : \"\",\r\n        password : \"\",\r\n        imgUrl : \"\",\r\n        bio : \"\",\r\n        createdAt :   new Date(),\r\n        following : [\r\n        {\r\n            _id : \"\",\r\n            fullname : \"\",\r\n            imgUrl: \"\"\r\n        }\r\n        ],\r\n        followers  : [\r\n        {\r\n            _id  : \"\",\r\n            fullname : \"\",\r\n            imgUrl  : \"\"\r\n        }\r\n        ],\r\n        savedPostIds : [\"\", \"\", \"\"]\r\n    }\r\n\r\n}\r\n\r\n","<template>\r\n  <div class=\"story-chat-container\">\r\n    <h2>Lets Chat...</h2>\r\n    <div class=\"ul-chat\">\r\n      <div v-for=\"(msg, idx) in msgs\" :key=\"idx\">\r\n        <div v-if=\"msg.from._id === loggedinUser._id\" class=\"user-container\">\r\n          <img class=\"img-user-chat\" :src=\"msg.from.imgUrl\"  alt=\"image\"/>\r\n          <span class=\"txt-user-chat\"> {{ msg.txt }} </span>\r\n        </div>\r\n        <div v-else class=\"incoming-user-container\">\r\n          <span class=\"txt-incoming-user-chat\"> {{ msg.txt }} </span>\r\n          <img class=\"img-incoming-user-chat\" :src=\"msg.from.imgUrl\" alt=\"user image\"/>\r\n        </div>\r\n      </div>\r\n    </div>\r\n      <form @submit.prevent=\"sendMsg\">\r\n        <div class=\"chat-input-container\">\r\n          <input class=\"chat-input\" type=\"text\" v-model=\"msg.txt\" @input=\"userTyping()\" />\r\n        </div>\r\n        <div class=\"form-chat-btn-container\">\r\n            <button class=\"chat-btn\">Send</button>\r\n        </div>\r\n      </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { userService } from \"@/services/user.service\";\r\nimport { socketService } from \"@/services/socket.service\";\r\nexport default {\r\n  name: \"story-chat\",\r\n  props: [ \"toUser\", \"firstMessages\"],\r\n  data() {\r\n    return {\r\n      msg: { txt: \"\" ,from : null, newMsg : true, toUsers : null},\r\n      msgs: [],\r\n      topic: \"Love\",\r\n      myId: null,\r\n      loggedinUser: null,\r\n      sendToUserId : null\r\n    };\r\n  },\r\n  created() {\r\n    socketService.setup();\r\n    this.loggedinUser = this.$store.getters.loggedinUser;\r\n  },\r\n  destroyed() {\r\n    socketService.off(\"chat addMsg\", this.addMsg);\r\n    socketService.terminate();\r\n  },\r\n  mounted() {\r\n       // console.log('this.firstMessagessssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss')\r\n    socketService.on(`${this.loggedinUser._id}`, this.addMsg);\r\n    socketService.on(\"user-typing\", (isTyping) => {\r\n      console.log(\"user is typing \");\r\n    });\r\n      if((this.firstMessages)&&(this.firstMessages.length>0)){\r\n          console.log('this.firstMessages',this.firstMessages)\r\n        this.firstMessages.forEach(msg => {\r\n        this.addMsg(msg)\r\n      });\r\n    }else{\r\n      const lastMsgs = userService.getChatMessages()\r\n      if((lastMsgs)&&(lastMsgs.length>0)){\r\n        console.log(' const lastMsgs = user.userService.getAllUsers()',lastMsgs)\r\n        for( let i = lastMsgs.length-1; i>=0 ;i--){\r\n          const toThisUser = lastMsgs[i].toUsers.some((toUser)=>{\r\n            return  (toUser._id ===this.loggedinUser._id)\r\n          })\r\n            if(toThisUser){\r\n              this.msg = lastMsgs[i]\r\n              this.msg.txt = \"\"\r\n              break\r\n            }\r\n        }\r\n      }\r\n    }\r\n\r\n // test for messages to upload (depend on the user )\r\n  this.checkUsers()\r\n\r\n  },\r\n  methods: {\r\n    // test for messages to upload (depend on the user )\r\n    checkUsers(){\r\n    var savedMsgs = userService.getChatMessages()\r\n    console.log('savedMsgs in story-chat  : ',savedMsgs)\r\n    var relevantMessages = []\r\n    if((savedMsgs)&&(savedMsgs.length>0)){\r\n      savedMsgs  = JSON.parse(JSON.stringify(savedMsgs))\r\n\r\n          for(let i = 0 ;i<savedMsgs.length;i++){   // using \"for\" instead \"forEach\" to reduce running time\r\n            // if(this.loggedinUser._id === savedMsgs[i].from._id){\r\n            //     this.msgs = savedMsgs\r\n            //       console.log(' this.msgs = savedMsgs')\r\n            //     break\r\n            // }\r\n              const userMsgs = []\r\n           //   const userMsgs = savedMsgs[i].toUsers.map((user)=>{\r\n              for( let j = 0 ; j<savedMsgs[i].toUsers.length;j++){\r\n                    if ( (savedMsgs[i].toUsers[j]._id === this.loggedinUser._id) ){\r\n                        console.log('message.toUsers[j]._id === this.loggedinUser._id')\r\n                      relevantMessages =  relevantMessages.concat( savedMsgs[i] )\r\n                    }else{\r\n                     // return null\r\n             //       }\r\n                }\r\n              }\r\n              // if(userMsgs.lemgth>0){\r\n              //     relevantMessages.concat(userMsgs)\r\n              // }   \r\n               console.log('this relevantMessages1',relevantMessages)\r\n              if((savedMsgs[i].from._id===this.loggedinUser._id)){\r\n             relevantMessages =  relevantMessages.concat(savedMsgs[i])\r\n              }          \r\n            }  \r\n              console.log('this relevantMessages2',relevantMessages)\r\n              this.msgs = relevantMessages;\r\n              // if(relevantMessages.length>0){\r\n              //   this.msgs = relevantMessages.filter((msg)=>{\r\n              //           return (msg!==null) \r\n              //   })\r\n              // }\r\n                console.log('this msgsssssssssssssssssssssssssssssssssss',this.msgs)\r\n        } \r\n    },\r\n\r\n    myFunction() {\r\n      console.log(\"user is typing\");\r\n    },\r\n    userTyping() {\r\n      console.log(\"user is typing\");\r\n      //      socketService.emit('user-typing', true)\r\n      //  setTimeout(()=>{\r\n      //     socketService.emit('user-typing', false)\r\n      // })\r\n\r\n      //  socketService.on('user-typing', isTyping => {\r\n      //      console.log('user is typing ')\r\n      //  })\r\n    },\r\n    addMsg(msg) {\r\n      console.log('got msg in story chat, and the msg is : ',msg)\r\n      this.msgs.push(msg);\r\n      this.msg = JSON.parse(JSON.stringify(msg))\r\n      this.msg.txt = \"\"\r\n    },\r\n    sendMsg() {\r\n    console.log('this.msg before sending it before update ',this.msg)\r\n    if( (!this.msg.from)&&(this.toUser.length>0) ){                          // if the user choosed some users list for sending message\r\n      this.msg.toUsers = this.toUser             \r\n      console.log('yes')\r\n    }else if(this.msg.from){\r\n      if(this.msg.from._id !==this.loggedinUser._id){       \r\n        console.log('no')           \r\n        const userChoosed = this.msg.toUsers.filter((usertoFind)=>{     //  updating the \"toUsers\" with the sender user, and take out the current user from the list\r\n                return (usertoFind._id === this.loggedinUser._id)\r\n        })\r\n        const indexOfUser =  this.msg.toUsers.indexOf(userChoosed[0])\r\n        this.msg.toUsers.splice(indexOfUser,1)\r\n        this.msg.toUsers.push(this.msg.from)\r\n      } \r\n    }\r\n      this.msg.from = this.loggedinUser\r\n      const newMsg =  JSON.parse(JSON.stringify(this.msg))\r\n      console.log('this.msg before sending it after update ',newMsg)\r\n      socketService.emit(\"multi-chat\", newMsg);\r\n      this.msgs.push(newMsg);\r\n      const savedMsgs = userService.saveChatMessages(newMsg) \r\n      this.msg.txt = \"\"\r\n      this.$emit('clearChat')\r\n    },\r\n  },\r\n  computed: {\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./story-chat.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./story-chat.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./story-chat.vue?vue&type=template&id=959cdcca&\"\nimport script from \"./story-chat.vue?vue&type=script&lang=js&\"\nexport * from \"./story-chat.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{},[_c('div',{staticClass:\"inner-header2\"},[_c('div',{staticClass:\"nav-bar main-header-inner\"},[_c('div',{staticClass:\"logo-container \"},[_c('router-link',{staticClass:\"instagram-router-link\",attrs:{\"to\":\"/\",\"title\":\"home page\"}},[_c('img',{staticClass:\"h1-header opacity\",class:{pressed: _vm.instagramPressed },attrs:{\"src\":\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\",\"alt\":\"profile pic\"},on:{\"click\":function($event){return _vm.instagramIsPressed()}}})]),_c('div',{staticClass:\"search-container\",attrs:{\"title\":\"search post by user\"}},[_c('user-filter',{on:{\"filtered\":_vm.setFilter}})],1)],1),_c('nav',[_c('router-link',{attrs:{\"to\":\"/\"}},[_c('span',{staticClass:\"home-logo opacity\",attrs:{\"role\":\"img\",\"aria-label\":\"logo\",\"title\":\"home page\"}},[_c('svg',{attrs:{\"height\":\"30\",\"viewBox\":\"0 0 48 48\",\"width\":\"22\"}},[_c('path',{attrs:{\"d\":\"M45.5 48H30.1c-.8 0-1.5-.7-1.5-1.5V34.2c0-2.6-2.1-4.6-4.6-4.6s-4.6 2.1-4.6 4.6v12.3c0 .8-.7 1.5-1.5 1.5H2.5c-.8 0-1.5-.7-1.5-1.5V23c0-.4.2-.8.4-1.1L22.9.4c.6-.6 1.6-.6 2.1 0l21.5 21.5c.3.3.4.7.4 1.1v23.5c.1.8-.6 1.5-1.4 1.5z\"}})])])]),_c('button',{staticClass:\"pluse-img-btn\",attrs:{\"title\":\"add user\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.openModal()}}},[_c('img',{staticClass:\"pluse-img opacity\",attrs:{\"src\":\"https://res.cloudinary.com/omerphoto/image/upload/v1618759085/plus6_cess9i.png\",\"alt\":\"profile pic\"}})]),(_vm.loggedInUser)?_c('img',{staticClass:\"user-logo opacity\",attrs:{\"src\":_vm.loggedInUser.imgUrl,\"title\":\" user prifile\",\"alt\":\"profile pic\"},on:{\"click\":function($event){return _vm.openUserModal()}}}):_c('img',{staticClass:\"user-logo-logout opacity\",attrs:{\"src\":\"http://coding-academy.org/books-photos/11.jpg\",\"alt\":\"profile pic\"},on:{\"click\":function($event){return _vm.openUserModal()}}}),_c('router-link',{staticClass:\"about\",attrs:{\"to\":\"/about\",\"title\":\"about page\"}},[_c('img',{attrs:{\"src\":\"https://res.cloudinary.com/omerphoto/image/upload/v1627409148/about2_p7rzmx.png\",\"alt\":\"\"}})])],1)]),_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.open)?_c('div',{staticClass:\"modal-container \"},[_c('new-story-modal',{attrs:{\"emptyStory\":_vm.emptyStory,\"smiles\":_vm.smiliesToShow},on:{\"afterPost\":_vm.afterPost}})],1):_vm._e()]),_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.isUserModal)?_c('div',{staticClass:\"user-modal-container \"},[_c('userModal',{attrs:{\"loggedInUser\":_vm.loggedInUser},on:{\"closeTheModal\":_vm.openUserModal}})],1):_vm._e()])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filterBy.name),expression:\"filterBy.name\"}],staticClass:\"main-header-search\",attrs:{\"type\":\"text\",\"placeholder\":\"Search \"},domProps:{\"value\":(_vm.filterBy.name)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.filterBy, \"name\", $event.target.value)},_vm.setFilter]}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n <div> \r\n    <input class=\"main-header-search\"   type=\"text\"  @input=\"setFilter\"  placeholder=\"Search \"  v-model=\"filterBy.name\"  />\r\n </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      filterBy: {\r\n        name: \"\",\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    setFilter() {\r\n      this.$emit(\"filtered\", this.filterBy);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user-filter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user-filter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./user-filter.vue?vue&type=template&id=516b27b9&\"\nimport script from \"./user-filter.vue?vue&type=script&lang=js&\"\nexport * from \"./user-filter.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"modal-header2 header2-flex \",class:{left: _vm.myImage },on:{\"click\":function($event){$event.stopPropagation();return _vm.stayOpen()}}},[_c('div',{staticClass:\"img-side\"},[_c('div',{staticClass:\"image-container-new-story\"},[(_vm.myImage)?_c('img',{staticClass:\"image-new-story\",attrs:{\"src\":_vm.myImage,\"width\":\"\",\"height\":\"\",\"alt\":\"image\"}}):_vm._e(),_c('div',{staticClass:\"img-flex\"},[(!_vm.isLoading&&!_vm.myImage)?_c('label',{attrs:{\"for\":\"imgUploader\"},on:{\"drop\":function($event){$event.preventDefault();return _vm.handleFile.apply(null, arguments)},\"dragover\":function($event){$event.preventDefault();return _vm.dragOver.apply(null, arguments)},\"dragleave\":function($event){_vm.isDragOver = false}}},[_c('img',{staticClass:\"input-img1\",attrs:{\"src\":\"https://res.cloudinary.com/omerphoto/image/upload/v1618335628/upload3_te8f2v.png\",\"alt\":\"image\"}})]):_vm._e(),(_vm.isLoading)?_c('img',{attrs:{\"src\":\"https://motiongraphicsphoebe.files.wordpress.com/2018/10/animated-loading-c397-1.gif\",\"alt\":\"image\"}}):_vm._e(),(!_vm.myImage)?_c('input',{staticClass:\"file-btn round\",attrs:{\"id\":\"imgUploader\",\"type\":\"file\",\"accept\":\"image/*\"},on:{\"change\":function($event){return _vm.uploadImage($event)}}}):_vm._e()])])]),_c('div',{staticClass:\"post-side\"},[_c('div',{staticClass:\"column-direction\"},[_c('div',{staticClass:\"post-details-header-preview\"},[_c('div',{staticClass:\"screen-preview2\"},[_c('router-link',{attrs:{\"to\":(\"/user/\" + (_vm.emptyStory.by._id))}},[_c('img',{staticClass:\"story-details-img-preview opacity\",attrs:{\"src\":_vm.emptyStory.by.imgUrl,\"alt\":\"image\"}})]),_c('span',[_c('router-link',{staticClass:\"post-details-router-name-preview opacity\",attrs:{\"to\":(\"/user/\" + (_vm.emptyStory.by._id))}},[_vm._v(\" \"+_vm._s(_vm.emptyStory.by.fullname)+\" \")])],1)],1),_c('button',{staticClass:\"post-details-header-btn-preview opacity\"},[_c('svg',{attrs:{\"height\":\"16\",\"viewBox\":\"0 0 48 48\",\"width\":\"16\"}},[_c('circle',{attrs:{\"clip-rule\":\"evenodd\",\"cx\":\"8\",\"cy\":\"24\",\"fill-rule\":\"evenodd\",\"r\":\"4.5\"}}),_c('circle',{attrs:{\"clip-rule\":\"evenodd\",\"cx\":\"24\",\"cy\":\"24\",\"fill-rule\":\"evenodd\",\"r\":\"4.5\"}}),_c('circle',{attrs:{\"clip-rule\":\"evenodd\",\"cx\":\"40\",\"cy\":\"24\",\"fill-rule\":\"evenodd\",\"r\":\"4.5\"}})])])])]),_c('div',{staticClass:\"line2\"}),_c('div',{staticClass:\"comment-input-cmp\"},[_c('commentInput',{attrs:{\"storyId\":_vm.test},on:{\"openSmiley\":_vm.openSmiley,\"closeSmiley\":_vm.closeSmiley}})],1),_c('div',{staticClass:\"line3\"}),(_vm.isSmilyModal)?_c('div',{staticClass:\"smily-modal-new-story\"},[_c('smileyMoldal',{attrs:{\"smiles\":_vm.smiles},on:{\"smileyToShow\":_vm.addIcon}})],1):_vm._e()])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <div class=\"modal-header2 header2-flex \"  v-bind:class=\"{left: myImage }\" @click.stop=\"stayOpen()\">\r\n            <div class=\"img-side\">\r\n              <div class=\"image-container-new-story\">\r\n                  <img  class=\"image-new-story\" v-if=\"myImage\" :src=\"myImage\" width=\"\" height=\"\" alt=\"image\">\r\n                  <div class=\"img-flex\">\r\n                        <label v-if=\"!isLoading&&!myImage\" for=\"imgUploader\"  @drop.prevent=\"handleFile\" @dragover.prevent=\"dragOver\"  @dragleave=\"isDragOver = false\"  >\r\n                            <img  class=\"input-img1\"  src=\"https://res.cloudinary.com/omerphoto/image/upload/v1618335628/upload3_te8f2v.png\" alt=\"image\">\r\n                        </label>\r\n                          <img   v-if=\"isLoading\" class=\"\"  src=\"https://motiongraphicsphoebe.files.wordpress.com/2018/10/animated-loading-c397-1.gif\" alt=\"image\">\r\n                          <!-- <img   v-if=\"isLoading\" class=\"input-img\"  src=\"https://cdn.dribbble.com/users/1186261/screenshots/3718681/_______.gif\"> -->\r\n                        <!-- <img  class=\"input-img\"  src=\"https://res.cloudinary.com/omerphoto/image/upload/v1617824183/iconfinder_file_add_48761_tfhfua.png\" width=\"\" height=\"\"> -->\r\n                      <!-- <img  class=\"input-img\"  src=\"https://res.cloudinary.com/omerphoto/image/upload/v1618335628/upload3_te8f2v.png\"> -->\r\n                    <input v-if=\"!myImage\"  id=\"imgUploader\" class=\"file-btn round\"  type=\"file\" accept=\"image/*\" @change=\"uploadImage($event)\" >\r\n                  </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"post-side\">\r\n                    <div class=\"column-direction\"  >             \r\n                            <div class=\"post-details-header-preview\">\r\n                                <div class=\"screen-preview2\">\r\n                                    <router-link :to=\"`/user/${ emptyStory.by._id}`\" > <img :src=\"emptyStory.by.imgUrl\" class=\"story-details-img-preview opacity\" alt=\"image\" /></router-link>\r\n                                    <span >\r\n                                        <router-link :to=\"`/user/${ emptyStory.by._id}`\"  class=\"post-details-router-name-preview opacity\" > {{ emptyStory.by.fullname }} </router-link>\r\n                                    </span>\r\n                                </div>\r\n                                <button class=\"post-details-header-btn-preview opacity\">\r\n                                    <svg height=\"16\" viewBox=\"0 0 48 48\" width=\"16\"><circle clip-rule=\"evenodd\" cx=\"8\" cy=\"24\" fill-rule=\"evenodd\" r=\"4.5\"></circle><circle clip-rule=\"evenodd\" cx=\"24\" cy=\"24\" fill-rule=\"evenodd\" r=\"4.5\"></circle><circle clip-rule=\"evenodd\" cx=\"40\" cy=\"24\" fill-rule=\"evenodd\" r=\"4.5\"></circle></svg>\r\n                                </button>\r\n                            </div>\r\n                    </div>                     \r\n                      <div class=\"line2\"></div>\r\n                      <div class=\"comment-input-cmp\">\r\n                          <commentInput  :storyId=\"test\"       @openSmiley=openSmiley   @closeSmiley=closeSmiley  />\r\n                      </div>\r\n                      <div class=\"line3\"></div>\r\n                      <div class=\"smily-modal-new-story\" v-if=\"isSmilyModal\">\r\n                          <smileyMoldal   :smiles=\"smiles\"  @smileyToShow=addIcon />\r\n                      </div>\r\n            </div>\r\n              \r\n        </div>\r\n          <!-- <button >   <img  class=\"save-btn\" v-if=\"myImage\" src=\"https://res.cloudinary.com/omerphoto/image/upload/v1617099828/save_q9xvig.png\" width=\"20\" height=\"20\">\r\n          </button>  \r\n          <label for=\"\"  v-if=\"myImage\" >say somthing : </label>\r\n          <input type=\"text\"  class=\"my-input\" v-if=\"myImage\" > -->\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport { uploadImg2 } from \"@/services/img-upload2.service.js\";\r\nimport { uploadImg } from \"@/services/img-upload.service.js\";\r\nimport { eventBus } from \"@/services/event-bus.service.js\";\r\nimport commentInput from \"@/cmps/comment-input.vue\";\r\nimport smileyMoldal from \"@/cmps/smiley-modal.vue\";\r\nimport storyService from \"@/services/story.service.js\";\r\n\r\nexport default {\r\n  props:[\"emptyStory\",\"smiles\"],\r\n      data() {\r\n        return {\r\n                txt :  null,\r\n                myImage :  null,\r\n                isSmilyModal : false,\r\n                test : '',\r\n                isLoading: false\r\n\r\n        }\r\n      },\r\n  created() {\r\n    console.log('on created ,emptyStory on new story modal',this.emptyStory)  \r\n    eventBus.$on('addCommentFromCommentInput', this.addNewStory) \r\n  },\r\n  mounted() {\r\n      console.log('on mounted ,emptyStory on new story modal',this.addNewStory)\r\n  },\r\n  beforeDestroy (){\r\n    eventBus.$off('addCommentFromCommentInput', this.addNewStory)\r\n      },\r\n  methods: {\r\n    addIcon(smile){\r\n      eventBus.$emit('addIcon',smile)\r\n      this.smile = smile; \r\n    },\r\n    stayOpen(){\r\n      eventBus.$emit('doNotCloseTheNewStoryModal')\r\n      },\r\n    addNewStory(commentStory){     \r\n        console.log('addNewStory in new-story-modal fired') \r\n        this.emptyStory.txt=commentStory.txt\r\n        this.emptyStory.imgUrl= this.myImage  \r\n        console.log('befor  in  new story modal',this.emptyStory)\r\n        this.emptyStory._id =''\r\n      //  console.log('after   in  new story modal',this.emptyStory)\r\n        this.$store.dispatch({ type: 'addNewStory', newStory: this.emptyStory })\r\n        this.$emit('afterPost')\r\n        // this.$forceUpdate(); \r\n    },\r\n    openSmiley(){\r\n      this.isSmilyModal = !this.isSmilyModal;\r\n    },\r\n    closeSmiley(){\r\n      this.isSmilyModal  = false;\r\n    },\r\n    async uploadImage(ev) {\r\n      this.isLoading = true\r\n      const res = await uploadImg2(ev)\r\n      this.myImage = res.url\r\n      console.log('onUploadImg -> res', res)\r\n      this.isLoading = false\r\n    },\r\n    dragOver(ev) {\r\n      this.isDragOver = true;\r\n    },\r\n    handleFile(ev) {\r\n      let file;\r\n      if (ev.type === \"change\") file = ev.target.files[0];\r\n      else if (ev.type === \"drop\") file = ev.dataTransfer.files[0];\r\n      this.onUploadImg(file);\r\n    },\r\n    async onUploadImg(file) {\r\n      this.isLoading = true;\r\n      this.isDragOver = false;\r\n      const res = await uploadImg(file);\r\n      this.myImage = res.url\r\n     // this.$emit(\"save\", res.url);\r\n      this.isLoading = false;\r\n    },\r\n},\r\n  components:{\r\n    commentInput,\r\n    smileyMoldal,\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./new-story-modal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./new-story-modal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./new-story-modal.vue?vue&type=template&id=3e183a52&\"\nimport script from \"./new-story-modal.vue?vue&type=script&lang=js&\"\nexport * from \"./new-story-modal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user-modal-cmp-container\"},[_c('div',{staticClass:\"user-modal-profile-logo\"},[_c('svg',{staticClass:\" \",attrs:{\"aria-label\":\"Profile\",\"fill\":\"#262626\",\"height\":\"16\",\"viewBox\":\"0 0 32 32\",\"width\":\"16\"}},[_c('path',{attrs:{\"d\":\"M16 0C7.2 0 0 7.1 0 16c0 4.8 2.1 9.1 5.5 12l.3.3C8.5 30.6 12.1 32 16 32s7.5-1.4 10.2-3.7l.3-.3c3.4-3 5.5-7.2 5.5-12 0-8.9-7.2-16-16-16zm0 29c-2.8 0-5.3-.9-7.5-2.4.5-.9.9-1.3 1.4-1.8.7-.5 1.5-.8 2.4-.8h7.2c.9 0 1.7.3 2.4.8.5.4.9.8 1.4 1.8-2 1.5-4.5 2.4-7.3 2.4zm9.7-4.4c-.5-.9-1.1-1.5-1.9-2.1-1.2-.9-2.7-1.4-4.2-1.4h-7.2c-1.5 0-3 .5-4.2 1.4-.8.6-1.4 1.2-1.9 2.1C4.2 22.3 3 19.3 3 16 3 8.8 8.8 3 16 3s13 5.8 13 13c0 3.3-1.2 6.3-3.3 8.6zM16 5.7c-3.9 0-7 3.1-7 7s3.1 7 7 7 7-3.1 7-7-3.1-7-7-7zm0 11c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4z\"}})]),_c('router-link',{staticClass:\"login-router-link opacity\",attrs:{\"to\":(\"/user/\" + (_vm.loggedInUser._id))}},[_c('div',{staticClass:\"user-modal-profile-logo-name\",on:{\"click\":function($event){return _vm.closModal()}}},[_vm._v(\"Profile\")])])],1),_c('div',{staticClass:\"log-out-user-modal-container\"},[_c('div',{staticClass:\"line-user-modal\"}),_c('router-link',{staticClass:\"login-router-link opacity\",attrs:{\"to\":\"/login\"}},[_c('div',{staticClass:\"log-out-user-modal\",on:{\"click\":function($event){return _vm.closModal()}}},[_vm._v(\" Log Out \")])]),_c('div',{staticClass:\"line-user-modal\"})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"user-modal-cmp-container\">\r\n      <div class=\"user-modal-profile-logo\">\r\n          <svg aria-label=\"Profile\" class=\" \" fill=\"#262626\" height=\"16\" viewBox=\"0 0 32 32\" width=\"16\"><path d=\"M16 0C7.2 0 0 7.1 0 16c0 4.8 2.1 9.1 5.5 12l.3.3C8.5 30.6 12.1 32 16 32s7.5-1.4 10.2-3.7l.3-.3c3.4-3 5.5-7.2 5.5-12 0-8.9-7.2-16-16-16zm0 29c-2.8 0-5.3-.9-7.5-2.4.5-.9.9-1.3 1.4-1.8.7-.5 1.5-.8 2.4-.8h7.2c.9 0 1.7.3 2.4.8.5.4.9.8 1.4 1.8-2 1.5-4.5 2.4-7.3 2.4zm9.7-4.4c-.5-.9-1.1-1.5-1.9-2.1-1.2-.9-2.7-1.4-4.2-1.4h-7.2c-1.5 0-3 .5-4.2 1.4-.8.6-1.4 1.2-1.9 2.1C4.2 22.3 3 19.3 3 16 3 8.8 8.8 3 16 3s13 5.8 13 13c0 3.3-1.2 6.3-3.3 8.6zM16 5.7c-3.9 0-7 3.1-7 7s3.1 7 7 7 7-3.1 7-7-3.1-7-7-7zm0 11c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4z\"></path></svg>\r\n            <router-link :to=\"`/user/${loggedInUser._id}`\" class=\"login-router-link opacity\"   ><div class=\"user-modal-profile-logo-name\" @click=\"closModal()\">Profile</div></router-link>\r\n                <!-- <router-link v-else :to=\"`/login`\" ><div class=\"user-modal-profile-logo-name\">Profile</div></router-link> -->  \r\n      </div>\r\n      <div class=\"log-out-user-modal-container\">\r\n            <div class=\"line-user-modal\"></div>\r\n            <router-link to=\"/login\" class=\"login-router-link opacity\" ><div class=\"log-out-user-modal\"  @click=\"closModal()\"> Log Out </div> </router-link > \r\n            <div class=\"line-user-modal\"></div>\r\n      </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    props:[\"loggedInUser\"],\r\n\r\n         data() {\r\n        return {\r\n          }\r\n      },\r\n   created() {\r\n  \r\n   },\r\n  methods: {\r\n      closModal(){\r\n          this.$emit('closeTheModal')\r\n      }\r\n  },\r\n      \r\n\r\n};\r\n\r\n\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user-modal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user-modal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./user-modal.vue?vue&type=template&id=6e689ebe&\"\nimport script from \"./user-modal.vue?vue&type=script&lang=js&\"\nexport * from \"./user-modal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <header class=\"\">        \r\n    <div class=\"inner-header2\">\r\n      <div class=\"nav-bar main-header-inner\">\r\n              <div class=\"logo-container \">\r\n                    <router-link to=\"/\" class=\"instagram-router-link\" title=\"home page\">\r\n                      <img  class=\"h1-header opacity\"  v-bind:class=\"{pressed: instagramPressed }\"  @click=\"instagramIsPressed()\" src=\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\"  alt=\"profile pic\" />\r\n                    </router-link>\r\n                  <div class=\"search-container\" title=\"search post by user\" >\r\n                      <user-filter @filtered=\"setFilter\" />\r\n                  </div>\r\n              </div>\r\n            <nav>\r\n                <router-link to=\"/\"  >\r\n                  <span class=\"home-logo opacity\" role=\"img\" aria-label=\"logo\" title=\"home page\">\r\n                    <svg height=\"30\" viewBox=\"0 0 48 48\" width=\"22\">\r\n                      <path d=\"M45.5 48H30.1c-.8 0-1.5-.7-1.5-1.5V34.2c0-2.6-2.1-4.6-4.6-4.6s-4.6 2.1-4.6 4.6v12.3c0 .8-.7 1.5-1.5 1.5H2.5c-.8 0-1.5-.7-1.5-1.5V23c0-.4.2-.8.4-1.1L22.9.4c.6-.6 1.6-.6 2.1 0l21.5 21.5c.3.3.4.7.4 1.1v23.5c.1.8-.6 1.5-1.4 1.5z\"></path>\r\n                    </svg>\r\n                  </span>\r\n                </router-link>\r\n                  <button class=\"pluse-img-btn\" @click.stop=\"openModal()\" title=\"add user\" >\r\n                    <img  class=\"pluse-img opacity\"  src=\"https://res.cloudinary.com/omerphoto/image/upload/v1618759085/plus6_cess9i.png\"  alt=\"profile pic\" />\r\n                  </button>\r\n                <img v-if=\"loggedInUser\" class=\"user-logo opacity\" :src=\"loggedInUser.imgUrl\" title=\" user prifile\" alt=\"profile pic\"  @click=\"openUserModal()\"    />                     \r\n                <img  v-else class=\"user-logo-logout opacity\" src=\"http://coding-academy.org/books-photos/11.jpg\" alt=\"profile pic\"  @click=\"openUserModal()\"/>                     \r\n                <router-link to=\"/about\"  class=\"about\"  title=\"about page\">\r\n                    <img src=\"https://res.cloudinary.com/omerphoto/image/upload/v1627409148/about2_p7rzmx.png\" alt=\"\">\r\n                </router-link>\r\n            </nav>\r\n      </div>\r\n          <transition name=\"fade\">\r\n                <div class=\"modal-container \" v-if=\"open\" >\r\n                        <new-story-modal :emptyStory=\"emptyStory\"  @afterPost=afterPost  :smiles=\"smiliesToShow\" />\r\n                </div>\r\n          </transition>\r\n            <transition name=\"fade\" >\r\n                <div class=\"user-modal-container \" v-if=\"isUserModal\" >\r\n                    <userModal :loggedInUser = \"loggedInUser\" @closeTheModal=openUserModal />\r\n                </div>\r\n            </transition>\r\n    </div>\r\n  </header>\r\n</template>\r\n<script>\r\nimport { eventBus } from \"@/services/event-bus.service.js\";\r\nimport userFilter from \"@/cmps/user-filter.vue\";\r\nimport newStoryModal from \"@/cmps/new-story-modal.vue\";\r\nimport userModal from \"@/cmps/user-modal.vue\";\r\nexport default {\r\n  name: \"app-header\",\r\n    data() {\r\n      return {\r\n        instagramPressed : false,\r\n        filterBy: null,\r\n        open : false,\r\n        emptyStory : null,\r\n        isUserModal : false\r\n      }\r\n    },\r\n  created() {\r\n    eventBus.$on(\"closeAddStoryModal\", () => {\r\n          this.closeModal()\r\n    });\r\n      eventBus.$on('doNotCloseTheNewStoryModal',() => {\r\n          this.stayOpen()\r\n    });\r\n  },\r\n  computed: {\r\n    smiliesToShow(){\r\n      const smiley = this.$store.getters.smiley\r\n      return smiley\r\n  },\r\n    loggedInUser() {\r\n      return this.$store.getters.loggedinUser;\r\n    },\r\n  },\r\n    methods: {\r\n      afterPost(){\r\n          this.open=false\r\n      },\r\n      stayOpen(){\r\n        this.open = true\r\n      },\r\n      openUserModal(){\r\n            this.isUserModal = !this.isUserModal\r\n      },\r\n      closeModal(){\r\n        this.open = false;\r\n      },\r\n      openModal(){\r\n        this.emptyStory =  this.$store.getters.getEmptyStory\r\n       // console.log('emptyStory at app header',this.emptyStory)\r\n        this.open= !this.open\r\n      },\r\n      instagramIsPressed(){\r\n          this.instagramPressed = !this.instagramPressed;     \r\n                    setTimeout(()=>{\r\n                    this.instagramPressed = !this.instagramPressed; \r\n      }, 1000);  \r\n      },\r\n      setFilter(filterBy) {\r\n     //       console.log(\"set filter is running\", filterBy);\r\n            this.$store.commit({ type: \"filterByChanged\", strFilter: filterBy });\r\n      },\r\n      goHome() {\r\n  //      console.log(\"instanbul pressed\");\r\n        //  this.$router.push('/')\r\n      },\r\n    },\r\n  \r\n  components: {\r\n    userFilter,\r\n    newStoryModal,\r\n    userModal\r\n    \r\n  },\r\n};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-header.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-header.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./app-header.vue?vue&type=template&id=2703317b&\"\nimport script from \"./app-header.vue?vue&type=script&lang=js&\"\nexport * from \"./app-header.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"app-footer\"},[_c('footer',[_vm._v(\"   Coffeerights  My-Instegram International Ltd 2021 \")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <section class=\"app-footer\">\r\n    <footer>   Coffeerights  My-Instegram International Ltd 2021 </footer>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nexport default {};\r\n</script>\r\n\r\n<style>\r\n</style>\r\n  \r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-footer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-footer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./app-footer.vue?vue&type=template&id=4f5517bf&\"\nimport script from \"./app-footer.vue?vue&type=script&lang=js&\"\nexport * from \"./app-footer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"app\">\n      <div id=\"nav\" @click.self=\"closeModal()\">\n      <transition name=\"fade\">\n          <div class=\"absolute-pos\" v-if=\"isChat\" >\n            <div  class=\"fixed-pos\"  >\n              <storyChat   :toUser=\"usersToChatWith\" :firstMessages=\"messages\" @clearChat=\"clearChat1\" />\n            </div>\n        </div>\n    </transition>\n    <div class=\"users-for-chat-container\" v-if=\"!isChat\">\n        <div v-for=\"user in allLoggedinUsers\" :key=\"user._id\" class=\"users-for-chat\"  >\n            <img class=\"users-img-for-chat\" :src=\"user.imgUrl\"   title=\"choos user to chat with...\" @click.stop=\"chooseUser(user)\"  v-bind:class=\"{ gotmsg: user.gotMsg , sendTo: user.sendTo }\" alt=\"image\" />\n            <span class=\"users-txt-for-chat-name\" >  {{user.username}} </span>\n        </div>\n    </div>\n      <div class=\"btn-absolute-pos\" >\n        <div  class=\"btn-absolute-pos\">                                                         \n          <button  class=\"open-chat\"  title=\"open chat\" @click.stop=\"openChat()\" v-if=\"!isChat\" > <img src=\"https://res.cloudinary.com/omerphoto/image/upload/v1645829347/Instagram/facebook2_crnrxx.png\" alt=\"\">\n            </button>\n          <button  class=\"open-chat\" title=\"close chat\" @click.stop=\"openChat()\" v-if=\"isChat\" > <svg width=\"26px\" height=\"26px\" viewBox=\"-4 -4 24 24\"><line x1=\"2\" x2=\"14\" y1=\"2\" y2=\"14\" stroke-linecap=\"round\" stroke-width=\"2\" stroke=\"#bec2c9\"></line><line x1=\"2\" x2=\"14\" y1=\"14\" y2=\"2\" stroke-linecap=\"round\" stroke-width=\"2\" stroke=\"#bec2c9\"  ></line></svg> </button>\n        </div>\n      </div>\n      <app-header  />\n      <router-view />\n      <app-footer />\n    </div>\n  </div>\n</template>\n\n            // <em data-visualcompletion=\"css-img\" class=\"\" style=\"background-image: url(&quot;https://static.xx.fbcdn.net/rsrc.php/v3/yt/r/kqWz_rDzdJb.png&quot;); background-position: 0px -960px; background-size: 26px 1890px; width: 20px; height: 20px; background-repeat: no-repeat; display: inline-block;\"></em>\n\n\n<script>\nimport { socketService } from \"@/services/socket.service\";\nimport storyChat from \"@/cmps/story-chat.vue\";\nimport { eventBus } from \"@/services/event-bus.service.js\";\nimport appHeader from \"@/cmps/app-header\";\nimport appFooter from \"@/cmps/app-footer\";\nimport {userService} from \"@/services/user.service\";\n\nexport default {\n  name: \"App\",\n\n  data() {\n    return {\n      loggedinUser: null,\n      isChat : false,\n      allLoggedinUsers : [],\n      usersToChatWith : [],\n      isMsg : false,\n      messages : []\n    };\n  },\n\n  async created() {\n    console.log(\"app.vue was created!!!\");\n    await this.$store.dispatch({ type: \"loadStories\" });\n    await this.$store.dispatch({ type: \"loadUsers\" });\n    this.loggedinUser = this.$store.getters.loggedinUser;\n    if(!this.loggedinUser){\n        const userToLogin = this.$store.getters.users\n        const loginCred  =  {username: 'Charles.g', password: '1234'}\n        loginCred.username = userToLogin[4].username ;\n        await this.$store.dispatch({ type: \"login\", userCred: loginCred });\n        this.loggedinUser = this.$store.getters.loggedinUser;\n        socketService.emit(\"user-connected-details\", this.loggedinUser); \n        socketService.on(\"user-now-connected\", this.addUserDetails);  // after user connected\n    }else{\n        socketService.emit(\"user-connected-details\", this.loggedinUser); \n        socketService.on(\"user-now-connected\", this.addUserDetails);\n    }\n    socketService.on(\"usersConnections\", this.usersConnections);  // after user connected\n    // this.allLoggedinUsers = userService.getLoggedinUsers()\n    socketService.on(\"updateLoginUser\", this.updateLoginUser);   // after user connected\n    socketService.on(\"user-has-disconnect\", this.usersConnections);\n  },\n    destroyed() {\n    socketService.off(`${this.loggedinUser._id}`, this.addMsg);\n  },\n\n  mounted(){\n    console.log(\"app.vue was mounted!!!\");\n    //this.setColorsForChatImg()\n},\n  computed: {\n    isMsgComputed(){\n      return this.isMsg\n    },\n      myId(){\n        return  this.loggedinUser._id\n    },\n    myId(){\n      return  this.loggedinUser._id\n    }\n  },\n  methods: {\n    // set the color for showing sentTo and gotMessage color logo\n    setColorsForChatImg(){\n      const users = userService.getAllUsers()\n      if(users&&users.length>0){\n          users.forEach((user)=>{\n            if( (user.sendTo)){\n              console.log('user.sendTo != undefined')\n                console.log(' this.allLoggedinUsers',this.allLoggedinUsers)\n                const idx = this.allLoggedinUsers.findIndex((user2)=>{  \n                      if (user._id===user2._id){return true}\n                })\n                console.log(' idx',idx)\n                this.allLoggedinUsers[idx].sendTo = true\n                console.log(' this.allLoggedinUsers[idx].sendTo', this.allLoggedinUsers[idx].sendTo)\n            }else if(user.gotMsg){\n              console.log('user.gotMsg')\n              const idx2 = this.allLoggedinUsers.findIndex((user2)=>{  \n                      if (user._id===user2._id){return true}\n                })\n                this.allLoggedinUsers[idx2].gotMsg = true\n            }\n          })\n      }\n    },\n      updateLoginUser(loggedinUser){\n    //  console.log(' loggedinUser on updateLoginUser on app.vue', loggedinUser)\n      socketService.off(`${this.loggedinUser._id}`, this.addMsg);\n      this.loggedinUser = loggedinUser\n      socketService.on(`${loggedinUser._id}`, this.addMsg);\n    },\n\n      //********************* all the users who are connected to the app - comming from Server ************************** */\n      usersConnections(usersConnections){\n      this.loggedinUser = this.$store.getters.loggedinUser;\n      const isContainUser =  usersConnections.some((userToFind)=>{\n        return (this.loggedinUser._id === userToFind._id)\n      })\n      if(isContainUser){\n        const userToRemove = usersConnections.filter((user)=>{\n          return (this.loggedinUser._id === user._id)\n      })\n  //    console.log('userToRemove on app',userToRemove)\n        const indexToRemove =  usersConnections.indexOf(userToRemove[0])\n        usersConnections.splice(indexToRemove,1)\n        this.allLoggedinUsers = JSON.parse(JSON.stringify(usersConnections))\n      }\n      // get users from sessionStorage for showing sentTo and gotMessage color logo\n      this.setColorsForChatImg()\n\n    },\n  //************* got message from another user *****************//\n    addMsg(msg){\n      const userChoosed = this.allLoggedinUsers.filter((user)=>{\n        return (user._id === msg.from._id)\n      })\n      userChoosed[0].gotMsg = true\n      userChoosed[0].sendTo = false\n    //        console.log('userChoosed on app',userChoosed)\n      if(!this.isChat){\n        this.messages.push(msg)\n      }\n      userService.saveAllUsers(this.allLoggedinUsers)\n      this.$forceUpdate();\n    },\n    clearChat1(id){\n      this.usersToChatWith = []\n    },\n    chooseUser(user){\n      const isContainUser = this.usersToChatWith.some((userToFind)=>{\n          return (user._id === userToFind._id)\n      })\n      if(!isContainUser){\n        this.usersToChatWith.push(user);\n      }else{\n              const indexOfUser =  this.usersToChatWith.indexOf(user)\n              this.usersToChatWith.splice(indexOfUser,1)\n      }\n      this.isMsg = false\n      const userChoosed = this.allLoggedinUsers.filter((usertoFind)=>{\n        return (usertoFind._id === user._id)\n      })\n      if(userChoosed[0].sendTo){\n          userChoosed[0].sendTo = false \n      }else{\n          userChoosed[0].sendTo = true\n      }   \n      userService.saveAllUsers(this.allLoggedinUsers)\n      this.$forceUpdate();\n      },\n      // ********** a single user has just connected, and he sent his details to the other users **************//\n      addUserDetails(user){\n        user.gotMsg = false\n        this.loggedinUser = this.$store.getters.loggedinUser;\n        if(user._id!==this.loggedinUser._id){\n        //    console.log('yes', user)\n            const isContainUser = this.allLoggedinUsers.some((userToFind)=>{\n            return (user._id === userToFind._id)\n          })\n        if(!isContainUser){\n            this.allLoggedinUsers.push( (JSON.parse(JSON.stringify(user))))\n          }\n        }\n      },\n    openChat(){\n        this.isChat = !this.isChat\n        if(this.allLoggedinUsers){\n        this.allLoggedinUsers.forEach(user=>{\n            user.gotMsg = false\n            user.sendTo = false \n        })\n        userService.saveAllUsers(this.allLoggedinUsers)\n      }\n    },\n    closeModal() {\n      eventBus.$emit(\"closeAddStoryModal\");\n      eventBus.$emit(\"closeDetailsModal\");\n    },\n  },\n\n  components: {\n    appHeader,\n    appFooter,\n    storyChat,\n    },\n};\n</script>\n\n\n<style>\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./app.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./app.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./app.vue?vue&type=template&id=37f3c794&\"\nimport script from \"./app.vue?vue&type=script&lang=js&\"\nexport * from \"./app.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* custom blocks */\nimport block0 from \"./app.vue?vue&type=custom&index=0&blockType=em&data-visualcompletion=css-img&class=true&style=background-image%3A%20url(%22https%3A%2F%2Fstatic.xx.fbcdn.net%2Frsrc.php%2Fv3%2Fyt%2Fr%2FkqWz_rDzdJb.png%22)%3B%20background-position%3A%200px%20-960px%3B%20background-size%3A%2026px%201890px%3B%20width%3A%2020px%3B%20height%3A%2020px%3B%20background-repeat%3A%20no-repeat%3B%20display%3A%20inline-block%3B\"\nif (typeof block0 === 'function') block0(component)\n\nexport default component.exports","import { userService } from '../services/user.service'\r\nimport { socketService, SOCKET_EMIT_USER_WATCH, SOCKET_EVENT_USER_UPDATED } from '../services/socket.service'\r\n\r\n// var localLoggedinUser = null;\r\n// if (sessionStorage.user) localLoggedinUser = JSON.parse(sessionStorage.user || null);\r\n\r\nexport const userStore = {\r\n    state: {\r\n        loggedinUser:  userService.getLoggedinUser() ||  null,\r\n        users: [],\r\n        loggedinUsers: [],\r\n\r\n    },\r\n    getters: {\r\n        users({ users }) { return users },\r\n        loggedinUsers({ loggedinUsers }) {\r\n            return loggedinUsers\r\n        },\r\n        loggedinUser({ loggedinUser }) {\r\n           // console.log('loggedinUser in user store', loggedinUser)\r\n            return loggedinUser\r\n        },\r\n        getUserById: (state) => (id) => {\r\n            var userToFind = null\r\n            state.users.find(user => {\r\n                if (user._id === id) {\r\n                    userToFind = user;\r\n                }\r\n            })\r\n            return userToFind\r\n        },\r\n        // getUsersToShow(state) {\r\n        //     console.log('getusersToShow',state)\r\n        //     if (!state.filterBy) return state.users\r\n        //     const searchStr = state.filterBy.toLowerCase()\r\n        //     const usersToShow = state.users.filter(user => {\r\n        //         return user.username.toLowerCase().includes(searchStr)\r\n        //     })\r\n        //     return usersToShow\r\n        // },\r\n\r\n\r\n        watchedUser({ watchedUser }) { return watchedUser }\r\n    },\r\n    mutations: {\r\n        // filterByChanged(state,payload){\r\n        //     console.log('filterByChanged is running',payload.strFilter.name)\r\n        //     state.filterBy = payload.strFilter.name\r\n            \r\n        // },\r\n        setLoggedinUser(state, { user }) {\r\n          //  console.log('user in setLoginuser in user store ',user)\r\n            const objUser = JSON.parse(JSON.stringify(user))       \r\n            if(user){\r\n                state.loggedinUser = objUser;\r\n                state.loggedinUsers.push(objUser);\r\n            }else{\r\n                const userChoosed =  state.loggedinUsers.filter((usertoFind)=>{\r\n                    return (usertoFind._id === state.loggedinUser._id)\r\n                })\r\n                const indexOfUser = state.loggedinUsers.indexOf(userChoosed[0])\r\n                state.loggedinUsers.splice(indexOfUser,1)\r\n                state.loggedinUser = null\r\n            }                      \r\n        },\r\n        updateLoggedinUser(state, { user }){\r\n            const objUser = JSON.parse(JSON.stringify(user)) \r\n            state.loggedinUser = objUser;\r\n\r\n            // for users list \r\n            const [userChoosed] =  state.users.filter((usertoFind)=>{\r\n                return (usertoFind._id === objUser._id)\r\n            })\r\n          //  console.log('state.users in user-store before ',state.users)\r\n            var indexOfUser = state.users.indexOf(userChoosed)\r\n            state.users.splice(indexOfUser,1,objUser)\r\n          //  console.log('state.users in user-store  after update',state.users)\r\n\r\n            \r\n            // for loggedInUsers list :\r\n            [userChoosed] =   state.loggedinUsers.filter((usertoFind)=>{\r\n                return (usertoFind._id === objUser._id)\r\n            })\r\n            indexOfUser = state.loggedinUsers.indexOf(userChoosed)\r\n            state.loggedinUsers.splice(indexOfUser,1,objUser)\r\n\r\n        },\r\n        // setLoggedinUser(state, { user }) {\r\n        //     state.loggedinUser = user;\r\n        // },\r\n        setWatchedUser(state, { user }) {\r\n            state.watchedUser = user;\r\n        },\r\n        setUsers(state, { users }) {\r\n            //console.log('in user store  setUsers - after update user from local storage', users)\r\n            state.users = users;\r\n        },\r\n        removeUser(state, { userId }) {\r\n            state.users = state.users.filter(user => user._id !== userId)\r\n        },\r\n    },\r\n    actions: {\r\n        async login({ commit }, { userCred }) {\r\n            try {\r\n               // console.log(' user log in , in user store,  ',userCred)\r\n                const user = await userService.login(userCred);\r\n               // console.log('user return from DB on user.store',user)\r\n                commit({ type: 'setLoggedinUser', user })\r\n                return user;\r\n            } catch (err) {\r\n                console.log('userStore: Error in login', err)\r\n                throw err\r\n            }\r\n        },\r\n        async signup({ commit }, { userCred }) {\r\n            try {\r\n                const user = await userService.signup(userCred)\r\n                commit({ type: 'setLoggedinUser', user })\r\n                return user;\r\n            } catch (err) {\r\n                console.log('userStore: Error in signup', err)\r\n                throw err\r\n            }\r\n\r\n        },\r\n        async logout({ commit }) {\r\n            try {\r\n                await userService.logout()\r\n                commit({ type: 'setLoggedinUser', user: null })\r\n            } catch (err) {\r\n                console.log('userStore: Error in logout', err)\r\n                throw err\r\n            }\r\n        },\r\n        async loadUsers({ commit, state }) {\r\n            try {\r\n                const users = await userService.getUsers(state.filter || undefined);\r\n           //     console.log('in user store - load users from local storage', users)\r\n                commit({ type: 'setUsers', users })\r\n            } catch (err) {\r\n                console.log('userStore: Error in loadUsers', err)\r\n                throw err\r\n            }\r\n        },\r\n        async loadAndWatchUser({ commit }, { userId }) {\r\n            try {\r\n                const user = await userService.getById(userId);\r\n                commit({ type: 'setWatchedUser', user })\r\n                socketService.emit(SOCKET_EMIT_USER_WATCH, userId)\r\n                socketService.off(SOCKET_EVENT_USER_UPDATED)\r\n                socketService.on(SOCKET_EVENT_USER_UPDATED, user => {\r\n                    commit({ type: 'setWatchedUser', user })\r\n                })\r\n            } catch (err) {\r\n                console.log('userStore: Error in loadAndWatchUser', err)\r\n                throw err\r\n            }\r\n        },\r\n        async removeUser({ commit }, { userId }) {\r\n            try {\r\n                await userService.remove(userId);\r\n                commit({ type: 'removeUser', userId })\r\n            } catch (err) {\r\n                console.log('userStore: Error in removeUser', err)\r\n                throw err\r\n            }\r\n        },\r\n        async updateUser({ commit }, { user }) {\r\n            try {\r\n                const userFromDB = await userService.update(user);\r\n                console.log('userFromDB after update, on updateUser func ', userFromDB)\r\n                commit({ type: 'updateLoggedinUser', user : userFromDB })\r\n            } catch (err) {\r\n                console.log('userStore: Error in updateUser', err)\r\n                throw err\r\n            }\r\n\r\n        }\r\n    }\r\n}","import {socketService} from '../services/socket.service.js'\r\n\r\nexport const socketStore = {\r\n    state: {\r\n    },\r\n    getters: {\r\n    },\r\n    mutations: {\r\n        setJob(state, {job}) {\r\n            state.job = job;\r\n        }\r\n    },\r\n    actions: {\r\n        // TODO: show on\r\n        sendMsg(context, {msg}) {\r\n            socketService.emit('sendMsg', msg)\r\n        },\r\n        getChatHistory(context, {chatId}) {\r\n            socketService.emit('getHistory', chatId)\r\n        }\r\n    }\r\n}","import { httpService } from './http.service'\r\nimport { storageService } from './async-storage.service'\r\nimport {userService} from './user.service'\r\n\r\nexport const reviewService = {\r\n  add,\r\n  query,\r\n  remove\r\n}\r\n\r\n\r\n// More ways to send query params:\r\n// return axios.get('api/toy/?id=1223&balance=13')\r\n// return axios.get('api/toy/?', {params: {id: 1223, balanse:13}})\r\n\r\nfunction query(filterBy) {\r\n  // var queryStr = (!filterBy) ? '' : `?name=${filterBy.name}&sort=anaAref`\r\n  // return httpService.get(`review${queryStr}`)\r\n  return storageService.query('review')\r\n}\r\n\r\nfunction remove(reviewId) {\r\n  // return httpService.delete(`review/${reviewId}`)\r\n  return storageService.delete('review', reviewId)\r\n\r\n}\r\nasync function add(review) {\r\n  // const addedReview = await httpService.post(`review`, review)\r\n\r\n  review.byUser = userService.getLoggedinUser()\r\n  review.aboutUser = await userService.getById(review.aboutUserId)\r\n  const addedReview = storageService.post('review', review)\r\n\r\n  return addedReview\r\n}\r\n","import { reviewService } from '../services/review.service'\r\nimport { socketService, SOCKET_EVENT_REVIEW_ADDED } from '../services/socket.service'\r\n\r\nexport const reviewStore = {\r\n    state: {\r\n        reviews: []\r\n    },\r\n    getters: {\r\n        reviews(state) {\r\n            return state.reviews;\r\n        },\r\n    },\r\n    mutations: {\r\n        setReviews(state, { reviews }) {\r\n            state.reviews = reviews;\r\n        },\r\n        addReview(state, { review }) {\r\n            state.reviews.push(review)\r\n        },\r\n        removeReview(state, { reviewId }) {\r\n            state.reviews = state.reviews.filter(review => review._id !== reviewId)\r\n        },\r\n    },\r\n    actions: {\r\n        async addReview(context, { review }) {\r\n            try {\r\n                review = await reviewService.add(review)\r\n                context.commit({ type: 'addReview', review })\r\n                return review;\r\n            } catch (err) {\r\n                console.log('reviewStore: Error in addReview', err)\r\n                throw err\r\n            }\r\n        },\r\n        async loadReviews(context) {\r\n            try {\r\n                const reviews = await reviewService.query();\r\n                context.commit({ type: 'setReviews', reviews })\r\n                socketService.off(SOCKET_EVENT_REVIEW_ADDED)\r\n                socketService.on(SOCKET_EVENT_REVIEW_ADDED, review => {\r\n                    context.commit({ type: 'addReview', review })\r\n                })\r\n\r\n            } catch (err) {\r\n                console.log('reviewStore: Error in loadReviews', err)\r\n                throw err\r\n            }\r\n        },\r\n        async removeReview(context, { reviewId }) {\r\n            try {\r\n                await reviewService.remove(reviewId);\r\n                context.commit({ type: 'removeReview', reviewId })\r\n            } catch (err) {\r\n                console.log('reviewStore: Error in removeReview', err)\r\n                throw err\r\n            }\r\n        },\r\n\r\n    }\r\n}","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nimport { userStore } from './user.store.js'\nimport { socketStore } from './socket.store.js'\nimport { reviewStore } from './review.store.js'\nimport { storyService } from \"../services/story.service.js\";\nimport { utilService } from '../services/util.service.js'\n\nVue.use(Vuex)\n\nexport const store = new Vuex.Store({\n  strict: true,\n  state: {\n    stories: [],\n    filterBy: null,\n    lastPath: null,\n    editChanges: null,\n    isCommentLikedBefor: false,\n    smilies: []\n  },\n\n  //********** getters ********************************************/\n  getters: {\n    //  isCommentLiked  : (state) => (details) =>\n    // {\n    //   var storyId= details.storyId\n    //   var commentIdx = details.commentIdx\n    //    var isLikedBefor = [false];\n    //    var theUser =  userStore.state.loggedinUser\n    //    isLikedBefor = story.comments[commentIdx].likedBy.filter(user => {\n    //    if(user._id===userDetails._id){\n    //     const isItTheUser = (element) => element._id===user._id;\n    //       var idx = storyCommentToLike.comments[commentIdx].likedBy.findIndex(isItTheUser)\n    //       console.log('the id to delete',idx)\n    //       storyCommentToLike.comments[commentIdx].likedBy.splice(idx,1)\n    //         console.log('yes baby')\n    //       return true\n    //      }\n    //   })\n    //   console.log('isLikedBefor',isLikedBefor)\n    //    return isLikedBefor\n    // },\n\n    smiley(state) {\n      return state.smilies\n    },\n    isCommentLikedBefor(state) {\n      return state.isCommentLikedBefor\n    },\n    getStories(state) {\n      return state.stories\n    },\n    getEmptyStory(state) {\n      var emptyStory = storyService.getEmptystory()\n      var theUser = userStore.state.loggedinUser\n      emptyStory.by._id = theUser._id\n      emptyStory.by.fullname = theUser.fullname\n      emptyStory.by.imgUrl = theUser.imgUrl\n      return emptyStory\n    },\n    storiesToShow(state) {\n      if (!state.filterBy) return state.stories\n      const searchStr = state.filterBy.toLowerCase()\n      const storiesToShow = state.stories.filter(story => {\n        return story.by.fullname.toLowerCase().includes(searchStr)\n      })\n      return storiesToShow\n    },\n\n    getStoryByUserId: (state) => (id) => {\n      var storyToFind = []\n     // console.log(\"stories for  user-details in store\",  state.stories);\n    //  console.log(\"id to find for  user-details in store\",  id);\n      state.stories.find(story => {\n        if (story.by._id === id) {\n          storyToFind.push(story);\n        }\n      })\n      return storyToFind\n    },\n    getStoryById: (state) => (id) => {\n      var storyToEdit = null\n      state.stories.find(story => {\n        if (story._id === id) {\n          storyToEdit = story;\n        }\n\n      })\n      return storyToEdit\n    },\n  },\n\n  //********************************** Mutations *******************************************/\n  mutations: {\n    filterByChanged(state, payload) {\n   //   console.log('filterByChanged is running', payload.strFilter.name)\n      state.filterBy = payload.strFilter.name\n    },\n    setStories(state, { stories }) {\n      state.stories = stories.reverse();\n    },\n    setSmilies(state, { smilies }) {\n     // console.log('smilies setttttttttttttttttttttttt', smilies)\n      state.smilies = smilies;\n    },\n\n    setStory(state, payload) {\n      console.log('set new story on store : ', payload)\n      const storyUpdated = JSON.parse(JSON.stringify(payload.updatedStory))\n      state.stories.unshift(storyUpdated);\n    },\n    removeStory(state, payload) {\n  //    console.log('story to remove in mutation store', payload)\n      const idx = state.stories.findIndex(p => p._id === payload.storyToRemoveId)\n      state.stories.splice(idx, 1,);\n    },\n    updateStories(state, payload) {\n      //  console.log('payload.updatedStory in store',payload.updatedStory)\n      const idx = state.stories.findIndex(p => p._id === payload.updatedStory._id)\n      state.stories.splice(idx, 1, payload.updatedStory);\n      console.log(' updateStories in store', state.stories)\n    },\n    commentLikedBefor(state, payload) {\n      this.state.isCommentLikedBefor = true\n    },\n    commentNotLikedBefor(state, payload) {\n      this.state.isCommentLikedBefor = true\n    },\n\n  },\n\n  // ************************ Acitions  ***************************************//\n  actions: {\n    removeStory(context, { storyToRemoveId }) {\n      //  console.log('story to remove in action store',payload.storyToRemoveId)\n      storyService.remove(storyToRemoveId)\n        .then(() => {\n          context.commit({ type: 'removeStory', storyToRemoveId });\n        })\n    },\n    addNewStory(context, payload) {\n      //  console.log('payload in store',payload.newStory)\n      storyService.save(payload.newStory)\n        .then(updatedStory => {\n          context.commit({ type: 'setStory', updatedStory });\n        })\n        .catch(err => {\n          // console.log('Store: Cannot update like to comment in  stories', err);\n          throw new Error('Cannot update like to comment in  stories');\n        })\n    },\n\n    addLikeToComment(context, payload) {\n      var storyId = payload.theDetails.storyId\n      var commentIdx = payload.theDetails.commentIdx\n      var theUser = userStore.state.loggedinUser\n      var userDetails = {\n        _id: theUser._id,\n        fullname: theUser.fullname,\n        imgUrl: theUser.imgUrl\n      }\n      storyService.getById(storyId)\n        .then(storyCommentToLike => {\n          var isLikedBefor = [false];\n          isLikedBefor = storyCommentToLike.comments[commentIdx].likedBy.filter(user => {\n            if (user._id === userDetails._id) {\n              const isItTheUser = (element) => element._id === user._id;\n              var idx = storyCommentToLike.comments[commentIdx].likedBy.findIndex(isItTheUser)\n              storyCommentToLike.comments[commentIdx].likedBy.splice(idx, 1)\n              return true\n            }\n          })\n          if (isLikedBefor.length === 0) {      \n            storyCommentToLike.comments[commentIdx].likedBy.push(userDetails)\n          }\n          storyService.save(storyCommentToLike)\n            .then(updatedStory => {\n              context.commit({ type: 'updateStories', updatedStory });\n            })\n        })\n        .catch(err => {\n          console.log('Store: Cannot update like to comment in  stories', err);\n          throw new Error('Cannot update like to comment in  stories');\n        })\n    },\n\n    removeLikeFromStory(context, payload) {\n      var storyId = payload.storyId\n      var theloggedInUser = userStore.state.loggedinUser\n      storyService.getById(storyId)\n        .then(storyRemoveLike => {\n          const idx = storyRemoveLike.likedBy.findIndex(user => user._id === theloggedInUser._id)\n          storyRemoveLike.likedBy.splice(idx, 1);\n          storyService.save(storyRemoveLike)\n            .then(updatedStory => {\n              context.commit({ type: 'updateStories', updatedStory });\n            })\n        })\n        .catch(err => {\n          console.log('Store: Cannot remove liket in  stories', err);\n          throw new Error('Cannot remove like in  stories');\n        })\n    },\n    setLikeToStory(context, payload) {\n      console.log('setLikeToStory in store');\n      var storyId = payload.storyId\n      var theUser = userStore.state.loggedinUser\n\n      storyService.getById(storyId)\n        .then(storyToLike => {\n          var userDetails = {\n            _id: theUser._id,\n            fullname: theUser.fullname,\n            imgUrl: theUser.imgUrl\n          }\n          const isLikedBefor = storyToLike.likedBy.some(user => {\n            return (userDetails._id === user._id)\n          })\n          if (!isLikedBefor) {\n            storyToLike.likedBy.push(userDetails)\n          } else {\n            const idx = storyToLike.likedBy.findIndex(user => user._id === userDetails._id)\n            storyToLike.likedBy.splice(idx, 1);\n          }\n          // storyToLike.likedBy.push(userDetails)\n          storyService.save(storyToLike)\n            .then(updatedStory => {\n              //   console.log('Store:updatedStory after like  from DB',updatedStory)\n              context.commit({ type: 'updateStories', updatedStory });\n            })\n        })\n        .catch(err => {\n          console.log('Store: Cannot update like in  stories', err);\n          throw new Error('Cannot update like in  stories');\n        })\n    },\n    addCommentToStory(context, payload) {                  //<================================\n      //console.log('add comment in store :',  payload.comment.txt)\n      var storyId = payload.comment.storyId\n      var commentTxt = payload.comment.txt\n      var theUser = userStore.state.loggedinUser\n      storyService.getById(storyId)\n        .then(storyToComment => {\n          const _commentToAdd =\n          {\n            id: utilService.makeId(),\n            by: {\n              _id: theUser._id,\n              fullname: theUser.fullname,\n              imgUrl: theUser.imgUrl,\n            },\n            txt: commentTxt,\n            likedBy: []\n          }\n          const commentToAdd = JSON.parse(JSON.stringify(_commentToAdd))\n          storyToComment.comments.push(commentToAdd)\n          //  console.log('add comment in store  before save:',  storyToComment)\n          storyService.save(storyToComment)\n            .then(updatedStory => {\n              console.log('add comment in store :', updatedStory)\n              context.commit({ type: 'updateStories', updatedStory });\n            })\n        })\n        .catch(err => {\n          console.log('Store: Cannot update comment in  stories', err);\n          throw new Error('Cannot update comment in  stories');\n        })\n    },\n    loadStories({ commit, state }) {                          \n      storyService.query(state.filter || undefined)\n        .then(stories => {\n          storyService.querySmiley()\n            .then(smilies => {\n              commit({ type: 'setSmilies', smilies });\n            })\n          //console.log('in store - load stories from DB storage', stories)\n          commit({ type: 'setStories', stories });\n        })\n        .catch(err => {\n          //     console.log('Store: Cannot load stories', err);\n          throw new Error('Cannot load stories');\n        })\n    },\n  },\n  modules: {\n    userStore,\n    socketStore,\n    reviewStore\n  },\n})\n","/* eslint-disable no-console */\n\nimport { register } from 'register-service-worker'\n\nif (process.env.NODE_ENV === 'production') {\n  register(`${process.env.BASE_URL}service-worker.js`, {\n    ready () {\n      console.log(\n        'App is being served from cache by a service worker.\\n' +\n        'For more details, visit https://goo.gl/AFskqB'\n      )\n    },\n    registered () {\n      console.log('Service worker has been registered.')\n    },\n    cached () {\n      console.log('Content has been cached for offline use.')\n    },\n    updatefound () {\n      console.log('New content is downloading.')\n    },\n    updated () {\n      console.log('New content is available; please refresh.')\n    },\n    offline () {\n      console.log('No internet connection found. App is running in offline mode.')\n    },\n    error (error) {\n      console.error('Error during service worker registration:', error)\n    }\n  })\n}\n","import Vue from 'vue'\r\nimport app from './app.vue'\r\nimport {router} from './router'\r\nimport {store} from './store/store'\r\nimport './assets/styles/main.scss'\r\nimport './registerServiceWorker'\r\n\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n  router,\r\n  store,\r\n  render: h => h(app)\r\n}).$mount('#app')\r\n\r\n\r\n","module.exports = __webpack_public_path__ + \"img/myinstagram-gif.85515c2b.gif\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./img-upload.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}